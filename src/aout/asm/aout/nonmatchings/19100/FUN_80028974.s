.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches


glabel FUN_80028974
/* 19174 80028974 D0FFBD27 */  addiu      $sp, $sp, -0x30
/* 19178 80028978 21288000 */  addu       $a1, $a0, $zero
/* 1917C 8002897C 2C00BFAF */  sw         $ra, 0x2c($sp)
/* 19180 80028980 2800B4AF */  sw         $s4, 0x28($sp)
/* 19184 80028984 2400B3AF */  sw         $s3, 0x24($sp)
/* 19188 80028988 2000B2AF */  sw         $s2, 0x20($sp)
/* 1918C 8002898C 1C00B1AF */  sw         $s1, 0x1c($sp)
/* 19190 80028990 1800B0AF */  sw         $s0, 0x18($sp)
/* 19194 80028994 0000A28C */  lw         $v0, ($a1)
/* 19198 80028998 00000000 */  nop
/* 1919C 8002899C 01004324 */  addiu      $v1, $v0, 1
/* 191A0 800289A0 40110200 */  sll        $v0, $v0, 5
/* 191A4 800289A4 04004224 */  addiu      $v0, $v0, 4
/* 191A8 800289A8 0000A3AC */  sw         $v1, ($a1)
/* 191AC 800289AC 0200632C */  sltiu      $v1, $v1, 2
/* 191B0 800289B0 02006014 */  bnez       $v1, .L800289BC
/* 191B4 800289B4 21A0A200 */   addu      $s4, $a1, $v0
/* 191B8 800289B8 0000A0AC */  sw         $zero, ($a1)
.L800289BC:
/* 191BC 800289BC 0000A28C */  lw         $v0, ($a1)
/* 191C0 800289C0 1000A427 */  addiu      $a0, $sp, 0x10
/* 191C4 800289C4 40110200 */  sll        $v0, $v0, 5
/* 191C8 800289C8 04004224 */  addiu      $v0, $v0, 4
/* 191CC 800289CC 2180A200 */  addu       $s0, $a1, $v0
/* 191D0 800289D0 000000A6 */  sh         $zero, ($s0)
/* 191D4 800289D4 020000A6 */  sh         $zero, 2($s0)
/* 191D8 800289D8 F8EF020C */  jal        readbtniomaybe_800bbfe0
/* 191DC 800289DC 180000A6 */   sh        $zero, 0x18($s0)
/* 191E0 800289E0 1000A297 */  lhu        $v0, 0x10($sp)
/* 191E4 800289E4 1200A397 */  lhu        $v1, 0x12($sp)
/* 191E8 800289E8 1400A497 */  lhu        $a0, 0x14($sp)
/* 191EC 800289EC 000002A6 */  sh         $v0, ($s0)
/* 191F0 800289F0 020003A6 */  sh         $v1, 2($s0)
/* 191F4 800289F4 D4B9000C */  jal        FUN_8002e750
/* 191F8 800289F8 180004A6 */   sh        $a0, 0x18($s0)
/* 191FC 800289FC FFFF0324 */  addiu      $v1, $zero, -1
/* 19200 80028A00 44004310 */  beq        $v0, $v1, .L80028B14
/* 19204 80028A04 21980000 */   addu      $s3, $zero, $zero
/* 19208 80028A08 21880000 */  addu       $s1, $zero, $zero
/* 1920C 80028A0C 21900002 */  addu       $s2, $s0, $zero
.L80028A10:
/* 19210 80028A10 B1B9000C */  jal        FUN_8002e6c4
/* 19214 80028A14 21202002 */   addu      $a0, $s1, $zero
/* 19218 80028A18 06002016 */  bnez       $s1, .L80028A34
/* 1921C 80028A1C 21304000 */   addu      $a2, $v0, $zero
/* 19220 80028A20 0040C230 */  andi       $v0, $a2, 0x4000
/* 19224 80028A24 83100200 */  sra        $v0, $v0, 2
/* 19228 80028A28 25106202 */  or         $v0, $s3, $v0
/* 1922C 80028A2C 8EA20008 */  j          .L80028A38
/* 19230 80028A30 FFFF4230 */   andi      $v0, $v0, 0xffff
.L80028A34:
/* 19234 80028A34 FFFF6232 */  andi       $v0, $s3, 0xffff
.L80028A38:
/* 19238 80028A38 21984000 */  addu       $s3, $v0, $zero
/* 1923C 80028A3C 0080C330 */  andi       $v1, $a2, 0x8000
/* 19240 80028A40 031A0300 */  sra        $v1, $v1, 8
/* 19244 80028A44 0020C230 */  andi       $v0, $a2, 0x2000
/* 19248 80028A48 C3120200 */  sra        $v0, $v0, 0xb
/* 1924C 80028A4C 25286200 */  or         $a1, $v1, $v0
/* 19250 80028A50 0010C430 */  andi       $a0, $a2, 0x1000
/* 19254 80028A54 43220400 */  sra        $a0, $a0, 9
/* 19258 80028A58 2520A400 */  or         $a0, $a1, $a0
/* 1925C 80028A5C 0008C230 */  andi       $v0, $a2, 0x800
/* 19260 80028A60 C3120200 */  sra        $v0, $v0, 0xb
/* 19264 80028A64 25288200 */  or         $a1, $a0, $v0
/* 19268 80028A68 0004C330 */  andi       $v1, $a2, 0x400
/* 1926C 80028A6C 431A0300 */  sra        $v1, $v1, 9
/* 19270 80028A70 2518A300 */  or         $v1, $a1, $v1
/* 19274 80028A74 FFFF6530 */  andi       $a1, $v1, 0xffff
/* 19278 80028A78 0002C230 */  andi       $v0, $a2, 0x200
/* 1927C 80028A7C 43110200 */  sra        $v0, $v0, 5
/* 19280 80028A80 2510A200 */  or         $v0, $a1, $v0
/* 19284 80028A84 FFFF4530 */  andi       $a1, $v0, 0xffff
/* 19288 80028A88 0001C330 */  andi       $v1, $a2, 0x100
/* 1928C 80028A8C C3180300 */  sra        $v1, $v1, 3
/* 19290 80028A90 2518A300 */  or         $v1, $a1, $v1
/* 19294 80028A94 FFFF6530 */  andi       $a1, $v1, 0xffff
/* 19298 80028A98 8000C230 */  andi       $v0, $a2, 0x80
/* 1929C 80028A9C 43100200 */  sra        $v0, $v0, 1
/* 192A0 80028AA0 2510A200 */  or         $v0, $a1, $v0
/* 192A4 80028AA4 FFFF4530 */  andi       $a1, $v0, 0xffff
/* 192A8 80028AA8 4000C330 */  andi       $v1, $a2, 0x40
/* 192AC 80028AAC 80180300 */  sll        $v1, $v1, 2
/* 192B0 80028AB0 2518A300 */  or         $v1, $a1, $v1
/* 192B4 80028AB4 FFFF6530 */  andi       $a1, $v1, 0xffff
/* 192B8 80028AB8 2000C230 */  andi       $v0, $a2, 0x20
/* 192BC 80028ABC 00110200 */  sll        $v0, $v0, 4
/* 192C0 80028AC0 2510A200 */  or         $v0, $a1, $v0
/* 192C4 80028AC4 FFFF4530 */  andi       $a1, $v0, 0xffff
/* 192C8 80028AC8 01003126 */  addiu      $s1, $s1, 1
/* 192CC 80028ACC 1000C230 */  andi       $v0, $a2, 0x10
/* 192D0 80028AD0 C0110200 */  sll        $v0, $v0, 7
/* 192D4 80028AD4 00004396 */  lhu        $v1, ($s2)
/* 192D8 80028AD8 2510A200 */  or         $v0, $a1, $v0
/* 192DC 80028ADC 25186200 */  or         $v1, $v1, $v0
/* 192E0 80028AE0 000043A6 */  sh         $v1, ($s2)
/* 192E4 80028AE4 0200222A */  slti       $v0, $s1, 2
/* 192E8 80028AE8 C9FF4014 */  bnez       $v0, .L80028A10
/* 192EC 80028AEC 02005226 */   addiu     $s2, $s2, 2
/* 192F0 80028AF0 ADB9000C */  jal        FUN_8002e6b4
/* 192F4 80028AF4 00000000 */   nop
/* 192F8 80028AF8 02004010 */  beqz       $v0, .L80028B04
/* 192FC 80028AFC 00000000 */   nop
/* 19300 80028B00 00047336 */  ori        $s3, $s3, 0x400
.L80028B04:
/* 19304 80028B04 18000296 */  lhu        $v0, 0x18($s0)
/* 19308 80028B08 00000000 */  nop
/* 1930C 80028B0C 25106202 */  or         $v0, $s3, $v0
/* 19310 80028B10 180002A6 */  sh         $v0, 0x18($s0)
.L80028B14:
/* 19314 80028B14 10000726 */  addiu      $a3, $s0, 0x10
/* 19318 80028B18 08000626 */  addiu      $a2, $s0, 8
/* 1931C 80028B1C 21280002 */  addu       $a1, $s0, $zero
/* 19320 80028B20 21208002 */  addu       $a0, $s4, $zero
/* 19324 80028B24 01001124 */  addiu      $s1, $zero, 1
.L80028B28:
/* 19328 80028B28 FFFF3126 */  addiu      $s1, $s1, -1
/* 1932C 80028B2C 00008294 */  lhu        $v0, ($a0)
/* 19330 80028B30 0000A394 */  lhu        $v1, ($a1)
/* 19334 80028B34 27100200 */  nor        $v0, $zero, $v0
/* 19338 80028B38 24186200 */  and        $v1, $v1, $v0
/* 1933C 80028B3C 0000C3A4 */  sh         $v1, ($a2)
/* 19340 80028B40 0200C624 */  addiu      $a2, $a2, 2
/* 19344 80028B44 0000A394 */  lhu        $v1, ($a1)
/* 19348 80028B48 0200A524 */  addiu      $a1, $a1, 2
/* 1934C 80028B4C 00008294 */  lhu        $v0, ($a0)
/* 19350 80028B50 02008424 */  addiu      $a0, $a0, 2
/* 19354 80028B54 27180300 */  nor        $v1, $zero, $v1
/* 19358 80028B58 24104300 */  and        $v0, $v0, $v1
/* 1935C 80028B5C 0000E2A4 */  sh         $v0, ($a3)
/* 19360 80028B60 F1FF2106 */  bgez       $s1, .L80028B28
/* 19364 80028B64 0200E724 */   addiu     $a3, $a3, 2
/* 19368 80028B68 18008296 */  lhu        $v0, 0x18($s4)
/* 1936C 80028B6C 18000496 */  lhu        $a0, 0x18($s0)
/* 19370 80028B70 2C00BF8F */  lw         $ra, 0x2c($sp)
/* 19374 80028B74 2400B38F */  lw         $s3, 0x24($sp)
/* 19378 80028B78 2000B28F */  lw         $s2, 0x20($sp)
/* 1937C 80028B7C 1C00B18F */  lw         $s1, 0x1c($sp)
/* 19380 80028B80 27100200 */  nor        $v0, $zero, $v0
/* 19384 80028B84 24108200 */  and        $v0, $a0, $v0
/* 19388 80028B88 27200400 */  nor        $a0, $zero, $a0
/* 1938C 80028B8C 1A0002A6 */  sh         $v0, 0x1a($s0)
/* 19390 80028B90 18008396 */  lhu        $v1, 0x18($s4)
/* 19394 80028B94 2800B48F */  lw         $s4, 0x28($sp)
/* 19398 80028B98 24186400 */  and        $v1, $v1, $a0
/* 1939C 80028B9C 1C0003A6 */  sh         $v1, 0x1c($s0)
/* 193A0 80028BA0 1800B08F */  lw         $s0, 0x18($sp)
/* 193A4 80028BA4 0800E003 */  jr         $ra
/* 193A8 80028BA8 3000BD27 */   addiu     $sp, $sp, 0x30
