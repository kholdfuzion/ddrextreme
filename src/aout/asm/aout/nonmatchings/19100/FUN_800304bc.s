.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches


glabel FUN_800304bc
/* 20CBC 800304BC D8FFBD27 */  addiu      $sp, $sp, -0x28
/* 20CC0 800304C0 1000B0AF */  sw         $s0, 0x10($sp)
/* 20CC4 800304C4 0E80103C */  lui        $s0, %hi(D_800D8DF4)
/* 20CC8 800304C8 F48D048E */  lw         $a0, %lo(D_800D8DF4)($s0)
/* 20CCC 800304CC 1580033C */  lui        $v1, 0x8015
/* 20CD0 800304D0 2000BFAF */  sw         $ra, 0x20($sp)
/* 20CD4 800304D4 1C00B3AF */  sw         $s3, 0x1c($sp)
/* 20CD8 800304D8 1800B2AF */  sw         $s2, 0x18($sp)
/* 20CDC 800304DC 1400B1AF */  sw         $s1, 0x14($sp)
/* 20CE0 800304E0 0C00918C */  lw         $s1, 0xc($a0)
/* 20CE4 800304E4 0400928C */  lw         $s2, 4($a0)
/* 20CE8 800304E8 0800828C */  lw         $v0, 8($a0)
/* 20CEC 800304EC 48DF7324 */  addiu      $s3, $v1, -0x20b8
/* 20CF0 800304F0 0C0080AC */  sw         $zero, 0xc($a0)
/* 20CF4 800304F4 21105100 */  addu       $v0, $v0, $s1
/* 20CF8 800304F8 21185102 */  addu       $v1, $s2, $s1
/* 20CFC 800304FC 080082AC */  sw         $v0, 8($a0)
/* 20D00 80030500 7CAA000C */  jal        vsync_8002a9f0
/* 20D04 80030504 040083AC */   sw        $v1, 4($a0)
/* 20D08 80030508 F48D038E */  lw         $v1, -0x720c($s0)
/* 20D0C 8003050C 00000000 */  nop
/* 20D10 80030510 0400628C */  lw         $v0, 4($v1)
/* 20D14 80030514 00000000 */  nop
/* 20D18 80030518 03004230 */  andi       $v0, $v0, 3
/* 20D1C 8003051C 0D004014 */  bnez       $v0, .L80030554
/* 20D20 80030520 21102002 */   addu      $v0, $s1, $zero
/* 20D24 80030524 0400222E */  sltiu      $v0, $s1, 4
/* 20D28 80030528 0A004014 */  bnez       $v0, .L80030554
/* 20D2C 8003052C 21102002 */   addu      $v0, $s1, $zero
/* 20D30 80030530 82181100 */  srl        $v1, $s1, 2
/* 20D34 80030534 03003132 */  andi       $s1, $s1, 3
.L80030538:
/* 20D38 80030538 0000628E */  lw         $v0, ($s3)
/* 20D3C 8003053C 04007326 */  addiu      $s3, $s3, 4
/* 20D40 80030540 FFFF6324 */  addiu      $v1, $v1, -1
/* 20D44 80030544 000042AE */  sw         $v0, ($s2)
/* 20D48 80030548 FBFF6014 */  bnez       $v1, .L80030538
/* 20D4C 8003054C 04005226 */   addiu     $s2, $s2, 4
/* 20D50 80030550 21102002 */  addu       $v0, $s1, $zero
.L80030554:
/* 20D54 80030554 08004018 */  blez       $v0, .L80030578
/* 20D58 80030558 FFFF3126 */   addiu     $s1, $s1, -1
.L8003055C:
/* 20D5C 8003055C 00006292 */  lbu        $v0, ($s3)
/* 20D60 80030560 01007326 */  addiu      $s3, $s3, 1
/* 20D64 80030564 21182002 */  addu       $v1, $s1, $zero
/* 20D68 80030568 FFFF3126 */  addiu      $s1, $s1, -1
/* 20D6C 8003056C 000042A2 */  sb         $v0, ($s2)
/* 20D70 80030570 FAFF601C */  bgtz       $v1, .L8003055C
/* 20D74 80030574 01005226 */   addiu     $s2, $s2, 1
.L80030578:
/* 20D78 80030578 7CAA000C */  jal        vsync_8002a9f0
/* 20D7C 8003057C 00000000 */   nop
/* 20D80 80030580 2000BF8F */  lw         $ra, 0x20($sp)
/* 20D84 80030584 1C00B38F */  lw         $s3, 0x1c($sp)
/* 20D88 80030588 1800B28F */  lw         $s2, 0x18($sp)
/* 20D8C 8003058C 1400B18F */  lw         $s1, 0x14($sp)
/* 20D90 80030590 1000B08F */  lw         $s0, 0x10($sp)
/* 20D94 80030594 0800E003 */  jr         $ra
/* 20D98 80030598 2800BD27 */   addiu     $sp, $sp, 0x28
