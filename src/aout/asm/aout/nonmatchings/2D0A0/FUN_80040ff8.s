.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches


glabel FUN_80040ff8
/* 317F8 80040FF8 D8FFBD27 */  addiu      $sp, $sp, -0x28
/* 317FC 80040FFC 2000B0AF */  sw         $s0, 0x20($sp)
/* 31800 80041000 21808000 */  addu       $s0, $a0, $zero
/* 31804 80041004 2400BFAF */  sw         $ra, 0x24($sp)
/* 31808 80041008 0300028A */  lwl        $v0, 3($s0)
/* 3180C 8004100C 0000029A */  lwr        $v0, ($s0)
/* 31810 80041010 0700038A */  lwl        $v1, 7($s0)
/* 31814 80041014 0400039A */  lwr        $v1, 4($s0)
/* 31818 80041018 0B00048A */  lwl        $a0, 0xb($s0)
/* 3181C 8004101C 0800049A */  lwr        $a0, 8($s0)
/* 31820 80041020 0F00058A */  lwl        $a1, 0xf($s0)
/* 31824 80041024 0C00059A */  lwr        $a1, 0xc($s0)
/* 31828 80041028 1300A2AB */  swl        $v0, 0x13($sp)
/* 3182C 8004102C 1000A2BB */  swr        $v0, 0x10($sp)
/* 31830 80041030 1700A3AB */  swl        $v1, 0x17($sp)
/* 31834 80041034 1400A3BB */  swr        $v1, 0x14($sp)
/* 31838 80041038 1B00A4AB */  swl        $a0, 0x1b($sp)
/* 3183C 8004103C 1800A4BB */  swr        $a0, 0x18($sp)
/* 31840 80041040 1F00A5AB */  swl        $a1, 0x1f($sp)
/* 31844 80041044 1C00A5BB */  swr        $a1, 0x1c($sp)
/* 31848 80041048 0180053C */  lui        $a1, %hi(D_8001373C)
/* 3184C 8004104C 1000A427 */  addiu      $a0, $sp, 0x10
/* 31850 80041050 3C37A524 */  addiu      $a1, $a1, %lo(D_8001373C)
/* 31854 80041054 0905010C */  jal        bcmp
/* 31858 80041058 02000624 */   addiu     $a2, $zero, 2
/* 3185C 8004105C 36004014 */  bnez       $v0, .L80041138
/* 31860 80041060 FFFF0224 */   addiu     $v0, $zero, -1
/* 31864 80041064 1200A297 */  lhu        $v0, 0x12($sp)
/* 31868 80041068 00000000 */  nop
/* 3186C 8004106C 0102422C */  sltiu      $v0, $v0, 0x201
/* 31870 80041070 31004010 */  beqz       $v0, .L80041138
/* 31874 80041074 FFFF0224 */   addiu     $v0, $zero, -1
/* 31878 80041078 1400A297 */  lhu        $v0, 0x14($sp)
/* 3187C 8004107C 00000000 */  nop
/* 31880 80041080 0102422C */  sltiu      $v0, $v0, 0x201
/* 31884 80041084 2C004010 */  beqz       $v0, .L80041138
/* 31888 80041088 FFFF0224 */   addiu     $v0, $zero, -1
/* 3188C 8004108C 1600A297 */  lhu        $v0, 0x16($sp)
/* 31890 80041090 00000000 */  nop
/* 31894 80041094 0102422C */  sltiu      $v0, $v0, 0x201
/* 31898 80041098 26004010 */  beqz       $v0, .L80041134
/* 3189C 8004109C 21300000 */   addu      $a2, $zero, $zero
/* 318A0 800410A0 21280000 */  addu       $a1, $zero, $zero
/* 318A4 800410A4 21200002 */  addu       $a0, $s0, $zero
/* 318A8 800410A8 00208724 */  addiu      $a3, $a0, 0x2000
.L800410AC:
/* 318AC 800410AC 00008290 */  lbu        $v0, ($a0)
/* 318B0 800410B0 01008390 */  lbu        $v1, 1($a0)
/* 318B4 800410B4 02008424 */  addiu      $a0, $a0, 2
/* 318B8 800410B8 2128A200 */  addu       $a1, $a1, $v0
/* 318BC 800410BC 2A108700 */  slt        $v0, $a0, $a3
/* 318C0 800410C0 FAFF4014 */  bnez       $v0, .L800410AC
/* 318C4 800410C4 2130C300 */   addu      $a2, $a2, $v1
/* 318C8 800410C8 FFFF0234 */  ori        $v0, $zero, 0xffff
/* 318CC 800410CC 2B104500 */  sltu       $v0, $v0, $a1
/* 318D0 800410D0 09004010 */  beqz       $v0, .L800410F8
/* 318D4 800410D4 FFFF0234 */   ori       $v0, $zero, 0xffff
/* 318D8 800410D8 FFFF0734 */  ori        $a3, $zero, 0xffff
/* 318DC 800410DC FFFFA230 */  andi       $v0, $a1, 0xffff
.L800410E0:
/* 318E0 800410E0 021C0500 */  srl        $v1, $a1, 0x10
/* 318E4 800410E4 21284300 */  addu       $a1, $v0, $v1
/* 318E8 800410E8 2B20E500 */  sltu       $a0, $a3, $a1
/* 318EC 800410EC FCFF8014 */  bnez       $a0, .L800410E0
/* 318F0 800410F0 FFFFA230 */   andi      $v0, $a1, 0xffff
/* 318F4 800410F4 FFFF0234 */  ori        $v0, $zero, 0xffff
.L800410F8:
/* 318F8 800410F8 2B104600 */  sltu       $v0, $v0, $a2
/* 318FC 800410FC 09004010 */  beqz       $v0, .L80041124
/* 31900 80041100 01000224 */   addiu     $v0, $zero, 1
/* 31904 80041104 FFFF0734 */  ori        $a3, $zero, 0xffff
/* 31908 80041108 FFFFC230 */  andi       $v0, $a2, 0xffff
.L8004110C:
/* 3190C 8004110C 021C0600 */  srl        $v1, $a2, 0x10
/* 31910 80041110 21304300 */  addu       $a2, $v0, $v1
/* 31914 80041114 2B20E600 */  sltu       $a0, $a3, $a2
/* 31918 80041118 FCFF8014 */  bnez       $a0, .L8004110C
/* 3191C 8004111C FFFFC230 */   andi      $v0, $a2, 0xffff
/* 31920 80041120 01000224 */  addiu      $v0, $zero, 1
.L80041124:
/* 31924 80041124 0400A214 */  bne        $a1, $v0, .L80041138
/* 31928 80041128 FFFF0224 */   addiu     $v0, $zero, -1
/* 3192C 8004112C 0200C510 */  beq        $a2, $a1, .L80041138
/* 31930 80041130 21100000 */   addu      $v0, $zero, $zero
.L80041134:
/* 31934 80041134 FFFF0224 */  addiu      $v0, $zero, -1
.L80041138:
/* 31938 80041138 2400BF8F */  lw         $ra, 0x24($sp)
/* 3193C 8004113C 2000B08F */  lw         $s0, 0x20($sp)
/* 31940 80041140 0800E003 */  jr         $ra
/* 31944 80041144 2800BD27 */   addiu     $sp, $sp, 0x28
