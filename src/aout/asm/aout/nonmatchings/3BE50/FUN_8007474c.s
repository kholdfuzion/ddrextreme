.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches


glabel FUN_8007474c
/* 64F4C 8007474C C8FFBD27 */  addiu      $sp, $sp, -0x38
/* 64F50 80074750 2400B5AF */  sw         $s5, 0x24($sp)
/* 64F54 80074754 21A8A000 */  addu       $s5, $a1, $zero
/* 64F58 80074758 1B80053C */  lui        $a1, 0x801b
/* 64F5C 8007475C C2170400 */  srl        $v0, $a0, 0x1f
/* 64F60 80074760 21108200 */  addu       $v0, $a0, $v0
/* 64F64 80074764 43100200 */  sra        $v0, $v0, 1
/* 64F68 80074768 40100200 */  sll        $v0, $v0, 1
/* 64F6C 8007476C 23208200 */  subu       $a0, $a0, $v0
/* 64F70 80074770 00190400 */  sll        $v1, $a0, 4
/* 64F74 80074774 23186400 */  subu       $v1, $v1, $a0
/* 64F78 80074778 C0180300 */  sll        $v1, $v1, 3
/* 64F7C 8007477C 340EA28C */  lw         $v0, 0xe34($a1)
/* 64F80 80074780 0C006324 */  addiu      $v1, $v1, 0xc
/* 64F84 80074784 3400BFAF */  sw         $ra, 0x34($sp)
/* 64F88 80074788 3000BEAF */  sw         $fp, 0x30($sp)
/* 64F8C 8007478C 2C00B7AF */  sw         $s7, 0x2c($sp)
/* 64F90 80074790 2800B6AF */  sw         $s6, 0x28($sp)
/* 64F94 80074794 2000B4AF */  sw         $s4, 0x20($sp)
/* 64F98 80074798 1C00B3AF */  sw         $s3, 0x1c($sp)
/* 64F9C 8007479C 1800B2AF */  sw         $s2, 0x18($sp)
/* 64FA0 800747A0 1400B1AF */  sw         $s1, 0x14($sp)
/* 64FA4 800747A4 1000B0AF */  sw         $s0, 0x10($sp)
/* 64FA8 800747A8 21104300 */  addu       $v0, $v0, $v1
/* 64FAC 800747AC 1000518C */  lw         $s1, 0x10($v0)
/* 64FB0 800747B0 0800438C */  lw         $v1, 8($v0)
/* 64FB4 800747B4 03002106 */  bgez       $s1, .L800747C4
/* 64FB8 800747B8 3F00083C */   lui       $t0, 0x3f
/* 64FBC 800747BC 84D20108 */  j          .L80074A10
/* 64FC0 800747C0 FFFF0224 */   addiu     $v0, $zero, -1
.L800747C4:
/* 64FC4 800747C4 FFFF0835 */  ori        $t0, $t0, 0xffff
/* 64FC8 800747C8 21187100 */  addu       $v1, $v1, $s1
/* 64FCC 800747CC C2171100 */  srl        $v0, $s1, 0x1f
/* 64FD0 800747D0 21102202 */  addu       $v0, $s1, $v0
/* 64FD4 800747D4 43100200 */  sra        $v0, $v0, 1
/* 64FD8 800747D8 21186200 */  addu       $v1, $v1, $v0
/* 64FDC 800747DC C01A0300 */  sll        $v1, $v1, 0xb
/* 64FE0 800747E0 82260300 */  srl        $a0, $v1, 0x1a
/* 64FE4 800747E4 822D0300 */  srl        $a1, $v1, 0x16
/* 64FE8 800747E8 0F00A530 */  andi       $a1, $a1, 0xf
/* 64FEC 800747EC 1E80023C */  lui        $v0, %hi(D_801E179A)
/* 64FF0 800747F0 9A174794 */  lhu        $a3, %lo(D_801E179A)($v0)
/* 64FF4 800747F4 21300000 */  addu       $a2, $zero, $zero
/* 64FF8 800747F8 24806800 */  and        $s0, $v1, $t0
/* 64FFC 800747FC 02110700 */  srl        $v0, $a3, 4
/* 65000 80074800 03005330 */  andi       $s3, $v0, 3
/* 65004 80074804 0F00F430 */  andi       $s4, $a3, 0xf
/* 65008 80074808 001F023C */  lui        $v0, 0x1f00
/* 6500C 8007480C 97F6020C */  jal        flash_library_related_800bda5c
/* 65010 80074810 21900202 */   addu      $s2, $s0, $v0
/* 65014 80074814 06004014 */  bnez       $v0, .L80074830
/* 65018 80074818 4000023C */   lui       $v0, 0x40
/* 6501C 8007481C 57F0020C */  jal        FUN_800bc15c
/* 65020 80074820 21206002 */   addu      $a0, $s3, $zero
/* 65024 80074824 34F0020C */  jal        FUN_800bc0d0
/* 65028 80074828 21208002 */   addu      $a0, $s4, $zero
/* 6502C 8007482C 4000023C */  lui        $v0, 0x40
.L80074830:
/* 65030 80074830 23805000 */  subu       $s0, $v0, $s0
/* 65034 80074834 0110032E */  sltiu      $v1, $s0, 0x1001
/* 65038 80074838 02006014 */  bnez       $v1, .L80074844
/* 6503C 8007483C 00000000 */   nop
/* 65040 80074840 00101024 */  addiu      $s0, $zero, 0x1000
.L80074844:
/* 65044 80074844 60F8020C */  jal        FUN_800be180
/* 65048 80074848 21204002 */   addu      $a0, $s2, $zero
/* 6504C 8007484C 42181000 */  srl        $v1, $s0, 1
/* 65050 80074850 21204002 */  addu       $a0, $s2, $zero
/* 65054 80074854 2580053C */  lui        $a1, 0x8025
/* 65058 80074858 0080A534 */  ori        $a1, $a1, 0x8000
/* 6505C 8007485C FFFF6324 */  addiu      $v1, $v1, -1
/* 65060 80074860 FFFF0224 */  addiu      $v0, $zero, -1
/* 65064 80074864 08006210 */  beq        $v1, $v0, .L80074888
/* 65068 80074868 01003032 */   andi      $s0, $s1, 1
/* 6506C 8007486C FFFF0624 */  addiu      $a2, $zero, -1
.L80074870:
/* 65070 80074870 00008294 */  lhu        $v0, ($a0)
/* 65074 80074874 02008424 */  addiu      $a0, $a0, 2
/* 65078 80074878 FFFF6324 */  addiu      $v1, $v1, -1
/* 6507C 8007487C 0000A2A4 */  sh         $v0, ($a1)
/* 65080 80074880 FBFF6614 */  bne        $v1, $a2, .L80074870
/* 65084 80074884 0200A524 */   addiu     $a1, $a1, 2
.L80074888:
/* 65088 80074888 7CAA000C */  jal        vsync_8002a9f0
/* 6508C 8007488C 00000000 */   nop
/* 65090 80074890 57F0020C */  jal        FUN_800bc15c
/* 65094 80074894 21206002 */   addu      $a0, $s3, $zero
/* 65098 80074898 34F0020C */  jal        FUN_800bc0d0
/* 6509C 8007489C 21208002 */   addu      $a0, $s4, $zero
/* 650A0 800748A0 21A0A002 */  addu       $s4, $s5, $zero
/* 650A4 800748A4 2580133C */  lui        $s3, 0x8025
/* 650A8 800748A8 03000012 */  beqz       $s0, .L800748B8
/* 650AC 800748AC 00807336 */   ori       $s3, $s3, 0x8000
/* 650B0 800748B0 2580133C */  lui        $s3, 0x8025
/* 650B4 800748B4 00847336 */  ori        $s3, $s3, 0x8400
.L800748B8:
/* 650B8 800748B8 04007326 */  addiu      $s3, $s3, 4
/* 650BC 800748BC 00007E8E */  lw         $fp, ($s3)
/* 650C0 800748C0 04007326 */  addiu      $s3, $s3, 4
/* 650C4 800748C4 801F043C */  lui        $a0, 0x1f80
/* 650C8 800748C8 03006232 */  andi       $v0, $s3, 3
/* 650CC 800748CC 18004010 */  beqz       $v0, .L80074930
/* 650D0 800748D0 21186002 */   addu      $v1, $s3, $zero
/* 650D4 800748D4 00026226 */  addiu      $v0, $s3, 0x200
/* 650D8 800748D8 21284000 */  addu       $a1, $v0, $zero
.L800748DC:
/* 650DC 800748DC 03006688 */  lwl        $a2, 3($v1)
/* 650E0 800748E0 00006698 */  lwr        $a2, ($v1)
/* 650E4 800748E4 07006788 */  lwl        $a3, 7($v1)
/* 650E8 800748E8 04006798 */  lwr        $a3, 4($v1)
/* 650EC 800748EC 0B006888 */  lwl        $t0, 0xb($v1)
/* 650F0 800748F0 08006898 */  lwr        $t0, 8($v1)
/* 650F4 800748F4 0F006988 */  lwl        $t1, 0xf($v1)
/* 650F8 800748F8 0C006998 */  lwr        $t1, 0xc($v1)
/* 650FC 800748FC 030086A8 */  swl        $a2, 3($a0)
/* 65100 80074900 000086B8 */  swr        $a2, ($a0)
/* 65104 80074904 070087A8 */  swl        $a3, 7($a0)
/* 65108 80074908 040087B8 */  swr        $a3, 4($a0)
/* 6510C 8007490C 0B0088A8 */  swl        $t0, 0xb($a0)
/* 65110 80074910 080088B8 */  swr        $t0, 8($a0)
/* 65114 80074914 0F0089A8 */  swl        $t1, 0xf($a0)
/* 65118 80074918 0C0089B8 */  swr        $t1, 0xc($a0)
/* 6511C 8007491C 10006324 */  addiu      $v1, $v1, 0x10
/* 65120 80074920 EEFF6514 */  bne        $v1, $a1, .L800748DC
/* 65124 80074924 10008424 */   addiu     $a0, $a0, 0x10
/* 65128 80074928 5AD20108 */  j          .L80074968
/* 6512C 8007492C 21984000 */   addu      $s3, $v0, $zero
.L80074930:
/* 65130 80074930 00026226 */  addiu      $v0, $s3, 0x200
/* 65134 80074934 21284000 */  addu       $a1, $v0, $zero
.L80074938:
/* 65138 80074938 0000668C */  lw         $a2, ($v1)
/* 6513C 8007493C 0400678C */  lw         $a3, 4($v1)
/* 65140 80074940 0800688C */  lw         $t0, 8($v1)
/* 65144 80074944 0C00698C */  lw         $t1, 0xc($v1)
/* 65148 80074948 000086AC */  sw         $a2, ($a0)
/* 6514C 8007494C 040087AC */  sw         $a3, 4($a0)
/* 65150 80074950 080088AC */  sw         $t0, 8($a0)
/* 65154 80074954 0C0089AC */  sw         $t1, 0xc($a0)
/* 65158 80074958 10006324 */  addiu      $v1, $v1, 0x10
/* 6515C 8007495C F6FF6514 */  bne        $v1, $a1, .L80074938
/* 65160 80074960 10008424 */   addiu     $a0, $a0, 0x10
/* 65164 80074964 21984000 */  addu       $s3, $v0, $zero
.L80074968:
/* 65168 80074968 21200000 */  addu       $a0, $zero, $zero
/* 6516C 8007496C 2700C01B */  blez       $fp, .L80074A0C
/* 65170 80074970 21180000 */   addu      $v1, $zero, $zero
.L80074974:
/* 65174 80074974 0000758E */  lw         $s5, ($s3)
/* 65178 80074978 04007326 */  addiu      $s3, $s3, 4
/* 6517C 8007497C 04007724 */  addiu      $s7, $v1, 4
/* 65180 80074980 03001624 */  addiu      $s6, $zero, 3
/* 65184 80074984 FF00A232 */  andi       $v0, $s5, 0xff
.L80074988:
/* 65188 80074988 40100200 */  sll        $v0, $v0, 1
/* 6518C 8007498C 801F033C */  lui        $v1, 0x1f80
/* 65190 80074990 21104300 */  addu       $v0, $v0, $v1
/* 65194 80074994 00004394 */  lhu        $v1, ($v0)
/* 65198 80074998 03AA1500 */  sra        $s5, $s5, 8
/* 6519C 8007499C FF0F7130 */  andi       $s1, $v1, 0xfff
/* 651A0 800749A0 07008010 */  beqz       $a0, .L800749C0
/* 651A4 800749A4 02930300 */   srl       $s2, $v1, 0xc
/* 651A8 800749A8 FFFF3126 */  addiu      $s1, $s1, -1
/* 651AC 800749AC 00008292 */  lbu        $v0, ($s4)
/* 651B0 800749B0 00191200 */  sll        $v1, $s2, 4
/* 651B4 800749B4 25104300 */  or         $v0, $v0, $v1
/* 651B8 800749B8 000082A2 */  sb         $v0, ($s4)
/* 651BC 800749BC 01009426 */  addiu      $s4, $s4, 1
.L800749C0:
/* 651C0 800749C0 43801100 */  sra        $s0, $s1, 1
/* 651C4 800749C4 06000012 */  beqz       $s0, .L800749E0
/* 651C8 800749C8 21208002 */   addu      $a0, $s4, $zero
/* 651CC 800749CC 00291200 */  sll        $a1, $s2, 4
/* 651D0 800749D0 25284502 */  or         $a1, $s2, $a1
/* 651D4 800749D4 F6A2000C */  jal        memset
/* 651D8 800749D8 21300002 */   addu      $a2, $s0, $zero
/* 651DC 800749DC 21A09002 */  addu       $s4, $s4, $s0
.L800749E0:
/* 651E0 800749E0 01002432 */  andi       $a0, $s1, 1
/* 651E4 800749E4 02008010 */  beqz       $a0, .L800749F0
/* 651E8 800749E8 00000000 */   nop
/* 651EC 800749EC 000092A2 */  sb         $s2, ($s4)
.L800749F0:
/* 651F0 800749F0 FFFFD626 */  addiu      $s6, $s6, -1
/* 651F4 800749F4 E4FFC106 */  bgez       $s6, .L80074988
/* 651F8 800749F8 FF00A232 */   andi      $v0, $s5, 0xff
/* 651FC 800749FC 2118E002 */  addu       $v1, $s7, $zero
/* 65200 80074A00 2A107E00 */  slt        $v0, $v1, $fp
/* 65204 80074A04 DBFF4014 */  bnez       $v0, .L80074974
/* 65208 80074A08 00000000 */   nop
.L80074A0C:
/* 6520C 80074A0C 21100000 */  addu       $v0, $zero, $zero
.L80074A10:
/* 65210 80074A10 3400BF8F */  lw         $ra, 0x34($sp)
/* 65214 80074A14 3000BE8F */  lw         $fp, 0x30($sp)
/* 65218 80074A18 2C00B78F */  lw         $s7, 0x2c($sp)
/* 6521C 80074A1C 2800B68F */  lw         $s6, 0x28($sp)
/* 65220 80074A20 2400B58F */  lw         $s5, 0x24($sp)
/* 65224 80074A24 2000B48F */  lw         $s4, 0x20($sp)
/* 65228 80074A28 1C00B38F */  lw         $s3, 0x1c($sp)
/* 6522C 80074A2C 1800B28F */  lw         $s2, 0x18($sp)
/* 65230 80074A30 1400B18F */  lw         $s1, 0x14($sp)
/* 65234 80074A34 1000B08F */  lw         $s0, 0x10($sp)
/* 65238 80074A38 0800E003 */  jr         $ra
/* 6523C 80074A3C 3800BD27 */   addiu     $sp, $sp, 0x38
