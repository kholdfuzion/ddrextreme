.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches


glabel FUN_800b4844
/* A5044 800B4844 1E80023C */  lui        $v0, %hi(D_801E09E8)
/* A5048 800B4848 E809438C */  lw         $v1, %lo(D_801E09E8)($v0)
/* A504C 800B484C 78FFBD27 */  addiu      $sp, $sp, -0x88
/* A5050 800B4850 7C00B5AF */  sw         $s5, 0x7c($sp)
/* A5054 800B4854 E8095524 */  addiu      $s5, $v0, 0x9e8
/* A5058 800B4858 8000BFAF */  sw         $ra, 0x80($sp)
/* A505C 800B485C 7800B4AF */  sw         $s4, 0x78($sp)
/* A5060 800B4860 7400B3AF */  sw         $s3, 0x74($sp)
/* A5064 800B4864 7000B2AF */  sw         $s2, 0x70($sp)
/* A5068 800B4868 6C00B1AF */  sw         $s1, 0x6c($sp)
/* A506C 800B486C 17016010 */  beqz       $v1, .L800B4CCC
/* A5070 800B4870 6800B0AF */   sw        $s0, 0x68($sp)
/* A5074 800B4874 21900000 */  addu       $s2, $zero, $zero
/* A5078 800B4878 92E3020C */  jal        SpuGetAllKeysStatus
/* A507C 800B487C 1000A427 */   addiu     $a0, $sp, 0x10
.L800B4880:
/* A5080 800B4880 0000A28E */  lw         $v0, ($s5)
/* A5084 800B4884 00000000 */  nop
/* A5088 800B4888 06104202 */  srlv       $v0, $v0, $s2
/* A508C 800B488C 01004230 */  andi       $v0, $v0, 1
/* A5090 800B4890 08004014 */  bnez       $v0, .L800B48B4
/* A5094 800B4894 80281200 */   sll       $a1, $s2, 2
/* A5098 800B4898 2110B203 */  addu       $v0, $sp, $s2
/* A509C 800B489C 10004390 */  lbu        $v1, 0x10($v0)
/* A50A0 800B48A0 00000000 */  nop
/* A50A4 800B48A4 04006014 */  bnez       $v1, .L800B48B8
/* A50A8 800B48A8 2118B200 */   addu      $v1, $a1, $s2
/* A50AC 800B48AC 30D30208 */  j          .L800B4CC0
/* A50B0 800B48B0 01005226 */   addiu     $s2, $s2, 1
.L800B48B4:
/* A50B4 800B48B4 2118B200 */  addu       $v1, $a1, $s2
.L800B48B8:
/* A50B8 800B48B8 80180300 */  sll        $v1, $v1, 2
/* A50BC 800B48BC 1E80043C */  lui        $a0, %hi(D_801E09F8)
/* A50C0 800B48C0 F8098224 */  addiu      $v0, $a0, %lo(D_801E09F8)
/* A50C4 800B48C4 21886200 */  addu       $s1, $v1, $v0
/* A50C8 800B48C8 00002392 */  lbu        $v1, ($s1)
/* A50CC 800B48CC 01004926 */  addiu      $t1, $s2, 1
/* A50D0 800B48D0 0500622C */  sltiu      $v0, $v1, 5
/* A50D4 800B48D4 F9004010 */  beqz       $v0, .L800B4CBC
/* A50D8 800B48D8 21A08000 */   addu      $s4, $a0, $zero
/* A50DC 800B48DC 0180023C */  lui        $v0, %hi(D_800172FC)
/* A50E0 800B48E0 FC724224 */  addiu      $v0, $v0, %lo(D_800172FC)
/* A50E4 800B48E4 80180300 */  sll        $v1, $v1, 2
/* A50E8 800B48E8 21186200 */  addu       $v1, $v1, $v0
/* A50EC 800B48EC 0000648C */  lw         $a0, ($v1)
/* A50F0 800B48F0 00000000 */  nop
/* A50F4 800B48F4 08008000 */  jr         $a0
/* A50F8 800B48F8 00000000 */   nop
/* A50FC 800B48FC 0180023C */  lui        $v0, %hi(D_8001727C)
/* A5100 800B4900 7C724224 */  addiu      $v0, $v0, %lo(D_8001727C)
/* A5104 800B4904 2180A200 */  addu       $s0, $a1, $v0
/* A5108 800B4908 0000048E */  lw         $a0, ($s0)
/* A510C 800B490C FDE2020C */  jal        SpuGetKeyStatus
/* A5110 800B4910 00000000 */   nop
/* A5114 800B4914 06004010 */  beqz       $v0, .L800B4930
/* A5118 800B4918 21400000 */   addu      $t0, $zero, $zero
/* A511C 800B491C 0800A28E */  lw         $v0, 8($s5)
/* A5120 800B4920 0000038E */  lw         $v1, ($s0)
/* A5124 800B4924 00000000 */  nop
/* A5128 800B4928 25104300 */  or         $v0, $v0, $v1
/* A512C 800B492C 0800A2AE */  sw         $v0, 8($s5)
.L800B4930:
/* A5130 800B4930 F8098426 */  addiu      $a0, $s4, 0x9f8
/* A5134 800B4934 01004926 */  addiu      $t1, $s2, 1
/* A5138 800B4938 E0018524 */  addiu      $a1, $a0, 0x1e0
/* A513C 800B493C 1000228E */  lw         $v0, 0x10($s1)
/* A5140 800B4940 2B188500 */  sltu       $v1, $a0, $a1
/* A5144 800B4944 02004794 */  lhu        $a3, 2($v0)
/* A5148 800B4948 06004684 */  lh         $a2, 6($v0)
/* A514C 800B494C 14006010 */  beqz       $v1, .L800B49A0
/* A5150 800B4950 21504000 */   addu      $t2, $v0, $zero
.L800B4954:
/* A5154 800B4954 00008290 */  lbu        $v0, ($a0)
/* A5158 800B4958 00000000 */  nop
/* A515C 800B495C 0C004010 */  beqz       $v0, .L800B4990
/* A5160 800B4960 00000000 */   nop
/* A5164 800B4964 1000838C */  lw         $v1, 0x10($a0)
/* A5168 800B4968 00000000 */  nop
/* A516C 800B496C 02006294 */  lhu        $v0, 2($v1)
/* A5170 800B4970 00000000 */  nop
/* A5174 800B4974 06004714 */  bne        $v0, $a3, .L800B4990
/* A5178 800B4978 00000000 */   nop
/* A517C 800B497C 06006284 */  lh         $v0, 6($v1)
/* A5180 800B4980 00000000 */  nop
/* A5184 800B4984 02004614 */  bne        $v0, $a2, .L800B4990
/* A5188 800B4988 00000000 */   nop
/* A518C 800B498C 01000825 */  addiu      $t0, $t0, 1
.L800B4990:
/* A5190 800B4990 14008424 */  addiu      $a0, $a0, 0x14
/* A5194 800B4994 2B108500 */  sltu       $v0, $a0, $a1
/* A5198 800B4998 EEFF4014 */  bnez       $v0, .L800B4954
/* A519C 800B499C 00000000 */   nop
.L800B49A0:
/* A51A0 800B49A0 C7000015 */  bnez       $t0, .L800B4CC0
/* A51A4 800B49A4 21902001 */   addu      $s2, $t1, $zero
/* A51A8 800B49A8 00004395 */  lhu        $v1, ($t2)
/* A51AC 800B49AC 03000224 */  addiu      $v0, $zero, 3
/* A51B0 800B49B0 C4006214 */  bne        $v1, $v0, .L800B4CC4
/* A51B4 800B49B4 1800422A */   slti      $v0, $s2, 0x18
/* A51B8 800B49B8 02000224 */  addiu      $v0, $zero, 2
/* A51BC 800B49BC 30D30208 */  j          .L800B4CC0
/* A51C0 800B49C0 000042A5 */   sh        $v0, ($t2)
/* A51C4 800B49C4 01004926 */  addiu      $t1, $s2, 1
/* A51C8 800B49C8 03000224 */  addiu      $v0, $zero, 3
/* A51CC 800B49CC 000022A2 */  sb         $v0, ($s1)
/* A51D0 800B49D0 2FD30208 */  j          .L800B4CBC
/* A51D4 800B49D4 080020A6 */   sh        $zero, 8($s1)
/* A51D8 800B49D8 21400000 */  addu       $t0, $zero, $zero
/* A51DC 800B49DC F8098626 */  addiu      $a2, $s4, 0x9f8
/* A51E0 800B49E0 0180023C */  lui        $v0, %hi(D_8001727C)
/* A51E4 800B49E4 7C724224 */  addiu      $v0, $v0, %lo(D_8001727C)
/* A51E8 800B49E8 2110A200 */  addu       $v0, $a1, $v0
/* A51EC 800B49EC 0800A38E */  lw         $v1, 8($s5)
/* A51F0 800B49F0 0000448C */  lw         $a0, ($v0)
/* A51F4 800B49F4 000020A2 */  sb         $zero, ($s1)
/* A51F8 800B49F8 25186400 */  or         $v1, $v1, $a0
/* A51FC 800B49FC E001C424 */  addiu      $a0, $a2, 0x1e0
/* A5200 800B4A00 0800A3AE */  sw         $v1, 8($s5)
/* A5204 800B4A04 1000228E */  lw         $v0, 0x10($s1)
/* A5208 800B4A08 2B18C400 */  sltu       $v1, $a2, $a0
/* A520C 800B4A0C 02004794 */  lhu        $a3, 2($v0)
/* A5210 800B4A10 06004584 */  lh         $a1, 6($v0)
/* A5214 800B4A14 9E006010 */  beqz       $v1, .L800B4C90
/* A5218 800B4A18 01004926 */   addiu     $t1, $s2, 1
.L800B4A1C:
/* A521C 800B4A1C 0000C290 */  lbu        $v0, ($a2)
/* A5220 800B4A20 00000000 */  nop
/* A5224 800B4A24 0C004010 */  beqz       $v0, .L800B4A58
/* A5228 800B4A28 00000000 */   nop
/* A522C 800B4A2C 1000C38C */  lw         $v1, 0x10($a2)
/* A5230 800B4A30 00000000 */  nop
/* A5234 800B4A34 02006294 */  lhu        $v0, 2($v1)
/* A5238 800B4A38 00000000 */  nop
/* A523C 800B4A3C 06004714 */  bne        $v0, $a3, .L800B4A58
/* A5240 800B4A40 00000000 */   nop
/* A5244 800B4A44 06006284 */  lh         $v0, 6($v1)
/* A5248 800B4A48 00000000 */  nop
/* A524C 800B4A4C 02004514 */  bne        $v0, $a1, .L800B4A58
/* A5250 800B4A50 00000000 */   nop
/* A5254 800B4A54 01000825 */  addiu      $t0, $t0, 1
.L800B4A58:
/* A5258 800B4A58 1400C624 */  addiu      $a2, $a2, 0x14
/* A525C 800B4A5C 2B10C400 */  sltu       $v0, $a2, $a0
/* A5260 800B4A60 EEFF4014 */  bnez       $v0, .L800B4A1C
/* A5264 800B4A64 00000000 */   nop
/* A5268 800B4A68 24D30208 */  j          .L800B4C90
/* A526C 800B4A6C 00000000 */   nop
/* A5270 800B4A70 0180023C */  lui        $v0, %hi(D_8001727C)
/* A5274 800B4A74 7C724224 */  addiu      $v0, $v0, %lo(D_8001727C)
/* A5278 800B4A78 2180A200 */  addu       $s0, $a1, $v0
/* A527C 800B4A7C 08002396 */  lhu        $v1, 8($s1)
/* A5280 800B4A80 0000048E */  lw         $a0, ($s0)
/* A5284 800B4A84 01006324 */  addiu      $v1, $v1, 1
/* A5288 800B4A88 FDE2020C */  jal        SpuGetKeyStatus
/* A528C 800B4A8C 080023A6 */   sh        $v1, 8($s1)
/* A5290 800B4A90 21184000 */  addu       $v1, $v0, $zero
/* A5294 800B4A94 03000224 */  addiu      $v0, $zero, 3
/* A5298 800B4A98 04006210 */  beq        $v1, $v0, .L800B4AAC
/* A529C 800B4A9C 21400000 */   addu      $t0, $zero, $zero
/* A52A0 800B4AA0 86006014 */  bnez       $v1, .L800B4CBC
/* A52A4 800B4AA4 01004926 */   addiu     $t1, $s2, 1
/* A52A8 800B4AA8 21400000 */  addu       $t0, $zero, $zero
.L800B4AAC:
/* A52AC 800B4AAC F8098426 */  addiu      $a0, $s4, 0x9f8
/* A52B0 800B4AB0 0800A28E */  lw         $v0, 8($s5)
/* A52B4 800B4AB4 0000038E */  lw         $v1, ($s0)
/* A52B8 800B4AB8 E0018524 */  addiu      $a1, $a0, 0x1e0
/* A52BC 800B4ABC 000020A2 */  sb         $zero, ($s1)
/* A52C0 800B4AC0 25104300 */  or         $v0, $v0, $v1
/* A52C4 800B4AC4 0800A2AE */  sw         $v0, 8($s5)
/* A52C8 800B4AC8 1000228E */  lw         $v0, 0x10($s1)
/* A52CC 800B4ACC 2B188500 */  sltu       $v1, $a0, $a1
/* A52D0 800B4AD0 02004794 */  lhu        $a3, 2($v0)
/* A52D4 800B4AD4 06004684 */  lh         $a2, 6($v0)
/* A52D8 800B4AD8 6D006010 */  beqz       $v1, .L800B4C90
/* A52DC 800B4ADC 01004926 */   addiu     $t1, $s2, 1
.L800B4AE0:
/* A52E0 800B4AE0 00008290 */  lbu        $v0, ($a0)
/* A52E4 800B4AE4 00000000 */  nop
/* A52E8 800B4AE8 0C004010 */  beqz       $v0, .L800B4B1C
/* A52EC 800B4AEC 00000000 */   nop
/* A52F0 800B4AF0 1000838C */  lw         $v1, 0x10($a0)
/* A52F4 800B4AF4 00000000 */  nop
/* A52F8 800B4AF8 02006294 */  lhu        $v0, 2($v1)
/* A52FC 800B4AFC 00000000 */  nop
/* A5300 800B4B00 06004714 */  bne        $v0, $a3, .L800B4B1C
/* A5304 800B4B04 00000000 */   nop
/* A5308 800B4B08 06006284 */  lh         $v0, 6($v1)
/* A530C 800B4B0C 00000000 */  nop
/* A5310 800B4B10 02004614 */  bne        $v0, $a2, .L800B4B1C
/* A5314 800B4B14 00000000 */   nop
/* A5318 800B4B18 01000825 */  addiu      $t0, $t0, 1
.L800B4B1C:
/* A531C 800B4B1C 14008424 */  addiu      $a0, $a0, 0x14
/* A5320 800B4B20 2B108500 */  sltu       $v0, $a0, $a1
/* A5324 800B4B24 EEFF4014 */  bnez       $v0, .L800B4AE0
/* A5328 800B4B28 00000000 */   nop
/* A532C 800B4B2C 24D30208 */  j          .L800B4C90
/* A5330 800B4B30 00000000 */   nop
/* A5334 800B4B34 0180023C */  lui        $v0, %hi(D_8001727C)
/* A5338 800B4B38 7C724224 */  addiu      $v0, $v0, %lo(D_8001727C)
/* A533C 800B4B3C 2110A200 */  addu       $v0, $a1, $v0
/* A5340 800B4B40 2800B027 */  addiu      $s0, $sp, 0x28
/* A5344 800B4B44 0000538C */  lw         $s3, ($v0)
/* A5348 800B4B48 21200002 */  addu       $a0, $s0, $zero
/* A534C 800B4B4C 95E6020C */  jal        SpuGetVoiceAttr
/* A5350 800B4B50 2800B3AF */   sw        $s3, 0x28($sp)
/* A5354 800B4B54 0180053C */  lui        $a1, %hi(D_8001717C)
/* A5358 800B4B58 7C71A524 */  addiu      $a1, $a1, %lo(D_8001717C)
/* A535C 800B4B5C 80000224 */  addiu      $v0, $zero, 0x80
/* A5360 800B4B60 01002392 */  lbu        $v1, 1($s1)
/* A5364 800B4B64 0A002686 */  lh         $a2, 0xa($s1)
/* A5368 800B4B68 23104300 */  subu       $v0, $v0, $v1
/* A536C 800B4B6C 40100200 */  sll        $v0, $v0, 1
/* A5370 800B4B70 21104500 */  addu       $v0, $v0, $a1
/* A5374 800B4B74 00004494 */  lhu        $a0, ($v0)
/* A5378 800B4B78 00000000 */  nop
/* A537C 800B4B7C 1800C400 */  mult       $a2, $a0
/* A5380 800B4B80 21106000 */  addu       $v0, $v1, $zero
/* A5384 800B4B84 40100200 */  sll        $v0, $v0, 1
/* A5388 800B4B88 21104500 */  addu       $v0, $v0, $a1
/* A538C 800B4B8C 12200000 */  mflo       $a0
/* A5390 800B4B90 00004394 */  lhu        $v1, ($v0)
/* A5394 800B4B94 00000000 */  nop
/* A5398 800B4B98 1800C300 */  mult       $a2, $v1
/* A539C 800B4B9C 08002296 */  lhu        $v0, 8($s1)
/* A53A0 800B4BA0 00000000 */  nop
/* A53A4 800B4BA4 01004224 */  addiu      $v0, $v0, 1
/* A53A8 800B4BA8 080022A6 */  sh         $v0, 8($s1)
/* A53AC 800B4BAC 3200A297 */  lhu        $v0, 0x32($sp)
/* A53B0 800B4BB0 3000A397 */  lhu        $v1, 0x30($sp)
/* A53B4 800B4BB4 C3230400 */  sra        $a0, $a0, 0xf
/* A53B8 800B4BB8 23186400 */  subu       $v1, $v1, $a0
/* A53BC 800B4BBC 3000A3A7 */  sh         $v1, 0x30($sp)
/* A53C0 800B4BC0 001C0300 */  sll        $v1, $v1, 0x10
/* A53C4 800B4BC4 12300000 */  mflo       $a2
/* A53C8 800B4BC8 C3330600 */  sra        $a2, $a2, 0xf
/* A53CC 800B4BCC 23104600 */  subu       $v0, $v0, $a2
/* A53D0 800B4BD0 02006104 */  bgez       $v1, .L800B4BDC
/* A53D4 800B4BD4 3200A2A7 */   sh        $v0, 0x32($sp)
/* A53D8 800B4BD8 3000A0A7 */  sh         $zero, 0x30($sp)
.L800B4BDC:
/* A53DC 800B4BDC 3200A287 */  lh         $v0, 0x32($sp)
/* A53E0 800B4BE0 00000000 */  nop
/* A53E4 800B4BE4 02004104 */  bgez       $v0, .L800B4BF0
/* A53E8 800B4BE8 00000000 */   nop
/* A53EC 800B4BEC 3200A0A7 */  sh         $zero, 0x32($sp)
.L800B4BF0:
/* A53F0 800B4BF0 3000A28F */  lw         $v0, 0x30($sp)
/* A53F4 800B4BF4 00000000 */  nop
/* A53F8 800B4BF8 2B004014 */  bnez       $v0, .L800B4CA8
/* A53FC 800B4BFC 03000224 */   addiu     $v0, $zero, 3
/* A5400 800B4C00 1000228E */  lw         $v0, 0x10($s1)
/* A5404 800B4C04 00000000 */  nop
/* A5408 800B4C08 06004490 */  lbu        $a0, 6($v0)
/* A540C 800B4C0C 02004394 */  lhu        $v1, 2($v0)
/* A5410 800B4C10 00240400 */  sll        $a0, $a0, 0x10
/* A5414 800B4C14 2BDA020C */  jal        FUN_800b68ac
/* A5418 800B4C18 25208300 */   or        $a0, $a0, $v1
/* A541C 800B4C1C 21400000 */  addu       $t0, $zero, $zero
/* A5420 800B4C20 F8098426 */  addiu      $a0, $s4, 0x9f8
/* A5424 800B4C24 E0018524 */  addiu      $a1, $a0, 0x1e0
/* A5428 800B4C28 1000228E */  lw         $v0, 0x10($s1)
/* A542C 800B4C2C 2B188500 */  sltu       $v1, $a0, $a1
/* A5430 800B4C30 000020A2 */  sb         $zero, ($s1)
/* A5434 800B4C34 02004794 */  lhu        $a3, 2($v0)
/* A5438 800B4C38 06004684 */  lh         $a2, 6($v0)
/* A543C 800B4C3C 14006010 */  beqz       $v1, .L800B4C90
/* A5440 800B4C40 01004926 */   addiu     $t1, $s2, 1
.L800B4C44:
/* A5444 800B4C44 00008290 */  lbu        $v0, ($a0)
/* A5448 800B4C48 00000000 */  nop
/* A544C 800B4C4C 0C004010 */  beqz       $v0, .L800B4C80
/* A5450 800B4C50 00000000 */   nop
/* A5454 800B4C54 1000838C */  lw         $v1, 0x10($a0)
/* A5458 800B4C58 00000000 */  nop
/* A545C 800B4C5C 02006294 */  lhu        $v0, 2($v1)
/* A5460 800B4C60 00000000 */  nop
/* A5464 800B4C64 06004714 */  bne        $v0, $a3, .L800B4C80
/* A5468 800B4C68 00000000 */   nop
/* A546C 800B4C6C 06006284 */  lh         $v0, 6($v1)
/* A5470 800B4C70 00000000 */  nop
/* A5474 800B4C74 02004614 */  bne        $v0, $a2, .L800B4C80
/* A5478 800B4C78 00000000 */   nop
/* A547C 800B4C7C 01000825 */  addiu      $t0, $t0, 1
.L800B4C80:
/* A5480 800B4C80 14008424 */  addiu      $a0, $a0, 0x14
/* A5484 800B4C84 2B108500 */  sltu       $v0, $a0, $a1
/* A5488 800B4C88 EEFF4014 */  bnez       $v0, .L800B4C44
/* A548C 800B4C8C 00000000 */   nop
.L800B4C90:
/* A5490 800B4C90 0B000015 */  bnez       $t0, .L800B4CC0
/* A5494 800B4C94 21902001 */   addu      $s2, $t1, $zero
/* A5498 800B4C98 1000238E */  lw         $v1, 0x10($s1)
/* A549C 800B4C9C 02000224 */  addiu      $v0, $zero, 2
/* A54A0 800B4CA0 30D30208 */  j          .L800B4CC0
/* A54A4 800B4CA4 000062A4 */   sh        $v0, ($v1)
.L800B4CA8:
/* A54A8 800B4CA8 21200002 */  addu       $a0, $s0, $zero
/* A54AC 800B4CAC 2C00A2AF */  sw         $v0, 0x2c($sp)
/* A54B0 800B4CB0 B5E3020C */  jal        SpuSetVoiceAttr
/* A54B4 800B4CB4 2800B3AF */   sw        $s3, 0x28($sp)
/* A54B8 800B4CB8 01004926 */  addiu      $t1, $s2, 1
.L800B4CBC:
/* A54BC 800B4CBC 21902001 */  addu       $s2, $t1, $zero
.L800B4CC0:
/* A54C0 800B4CC0 1800422A */  slti       $v0, $s2, 0x18
.L800B4CC4:
/* A54C4 800B4CC4 EEFE4014 */  bnez       $v0, .L800B4880
/* A54C8 800B4CC8 00000000 */   nop
.L800B4CCC:
/* A54CC 800B4CCC 8000BF8F */  lw         $ra, 0x80($sp)
/* A54D0 800B4CD0 7C00B58F */  lw         $s5, 0x7c($sp)
/* A54D4 800B4CD4 7800B48F */  lw         $s4, 0x78($sp)
/* A54D8 800B4CD8 7400B38F */  lw         $s3, 0x74($sp)
/* A54DC 800B4CDC 7000B28F */  lw         $s2, 0x70($sp)
/* A54E0 800B4CE0 6C00B18F */  lw         $s1, 0x6c($sp)
/* A54E4 800B4CE4 6800B08F */  lw         $s0, 0x68($sp)
/* A54E8 800B4CE8 0800E003 */  jr         $ra
/* A54EC 800B4CEC 8800BD27 */   addiu     $sp, $sp, 0x88
