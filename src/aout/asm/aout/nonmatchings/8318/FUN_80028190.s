.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches


glabel FUN_80028190
/* 18990 80028190 C8FFBD27 */  addiu      $sp, $sp, -0x38
/* 18994 80028194 2000B0AF */  sw         $s0, 0x20($sp)
/* 18998 80028198 0F80103C */  lui        $s0, 0x800f
/* 1899C 8002819C 1380023C */  lui        $v0, %hi(D_80129DA8)
/* 189A0 800281A0 A89D4424 */  addiu      $a0, $v0, %lo(D_80129DA8)
/* 189A4 800281A4 3000BFAF */  sw         $ra, 0x30($sp)
/* 189A8 800281A8 2C00B3AF */  sw         $s3, 0x2c($sp)
/* 189AC 800281AC 2800B2AF */  sw         $s2, 0x28($sp)
/* 189B0 800281B0 2400B1AF */  sw         $s1, 0x24($sp)
/* 189B4 800281B4 B10D8380 */  lb         $v1, 0xdb1($a0)
/* 189B8 800281B8 00000000 */  nop
/* 189BC 800281BC 07006010 */  beqz       $v1, .L800281DC
/* 189C0 800281C0 21984000 */   addu      $s3, $v0, $zero
/* 189C4 800281C4 1F000324 */  addiu      $v1, $zero, 0x1f
/* 189C8 800281C8 2C0D8224 */  addiu      $v0, $a0, 0xd2c
.L800281CC:
/* 189CC 800281CC 000040A4 */  sh         $zero, ($v0)
/* 189D0 800281D0 FFFF6324 */  addiu      $v1, $v1, -1
/* 189D4 800281D4 FDFF6104 */  bgez       $v1, .L800281CC
/* 189D8 800281D8 F8FF4224 */   addiu     $v0, $v0, -8
.L800281DC:
/* 189DC 800281DC D860000C */  jal        DrawSync
/* 189E0 800281E0 21200000 */   addu      $a0, $zero, $zero
/* 189E4 800281E4 A8FF0526 */  addiu      $a1, $s0, -0x58
/* 189E8 800281E8 7D00A390 */  lbu        $v1, 0x7d($a1)
/* 189EC 800281EC 01000224 */  addiu      $v0, $zero, 1
/* 189F0 800281F0 08006210 */  beq        $v1, $v0, .L80028214
/* 189F4 800281F4 21200000 */   addu      $a0, $zero, $zero
/* 189F8 800281F8 A89D6326 */  addiu      $v1, $s3, -0x6258
/* 189FC 800281FC B40D628C */  lw         $v0, 0xdb4($v1)
/* 18A00 80028200 00000000 */  nop
/* 18A04 80028204 0F004230 */  andi       $v0, $v0, 0xf
/* 18A08 80028208 02004014 */  bnez       $v0, .L80028214
/* 18A0C 8002820C 00000000 */   nop
/* 18A10 80028210 7D00A490 */  lbu        $a0, 0x7d($a1)
.L80028214:
/* 18A14 80028214 CD6B000C */  jal        VSync
/* 18A18 80028218 00000000 */   nop
/* 18A1C 8002821C A89D6626 */  addiu      $a2, $s3, -0x6258
/* 18A20 80028220 B40DC48C */  lw         $a0, 0xdb4($a2)
/* 18A24 80028224 B40DC290 */  lbu        $v0, 0xdb4($a2)
/* 18A28 80028228 02190400 */  srl        $v1, $a0, 4
/* 18A2C 8002822C 0F004230 */  andi       $v0, $v0, 0xf
/* 18A30 80028230 0F006530 */  andi       $a1, $v1, 0xf
/* 18A34 80028234 07004514 */  bne        $v0, $a1, .L80028254
/* 18A38 80028238 F0FF0224 */   addiu     $v0, $zero, -0x10
/* 18A3C 8002823C 021A0400 */  srl        $v1, $a0, 8
/* 18A40 80028240 02130400 */  srl        $v0, $a0, 0xc
/* 18A44 80028244 0F006330 */  andi       $v1, $v1, 0xf
/* 18A48 80028248 0F004230 */  andi       $v0, $v0, 0xf
/* 18A4C 8002824C 32006210 */  beq        $v1, $v0, .L80028318
/* 18A50 80028250 F0FF0224 */   addiu     $v0, $zero, -0x10
.L80028254:
/* 18A54 80028254 24108200 */  and        $v0, $a0, $v0
/* 18A58 80028258 25104500 */  or         $v0, $v0, $a1
/* 18A5C 8002825C FFF00324 */  addiu      $v1, $zero, -0xf01
/* 18A60 80028260 24384300 */  and        $a3, $v0, $v1
/* 18A64 80028264 02110200 */  srl        $v0, $v0, 4
/* 18A68 80028268 000F4230 */  andi       $v0, $v0, 0xf00
/* 18A6C 8002826C 2538E200 */  or         $a3, $a3, $v0
/* 18A70 80028270 0F00E230 */  andi       $v0, $a3, 0xf
/* 18A74 80028274 0F004014 */  bnez       $v0, .L800282B4
/* 18A78 80028278 B40DC7AC */   sw        $a3, 0xdb4($a2)
/* 18A7C 8002827C 1000A0AF */  sw         $zero, 0x10($sp)
/* 18A80 80028280 40010424 */  addiu      $a0, $zero, 0x140
/* 18A84 80028284 F0000524 */  addiu      $a1, $zero, 0xf0
/* 18A88 80028288 04000624 */  addiu      $a2, $zero, 4
/* 18A8C 8002828C 023A0700 */  srl        $a3, $a3, 8
/* 18A90 80028290 E684000C */  jal        GsInitGraph2
/* 18A94 80028294 0F00E730 */   andi      $a3, $a3, 0xf
/* 18A98 80028298 21200000 */  addu       $a0, $zero, $zero
/* 18A9C 8002829C 21280000 */  addu       $a1, $zero, $zero
/* 18AA0 800282A0 21300000 */  addu       $a2, $zero, $zero
/* 18AA4 800282A4 20A2000C */  jal        FUN_80028880
/* 18AA8 800282A8 00010724 */   addiu     $a3, $zero, 0x100
/* 18AAC 800282AC BAA00008 */  j          .L800282E8
/* 18AB0 800282B0 1800A427 */   addiu     $a0, $sp, 0x18
.L800282B4:
/* 18AB4 800282B4 1000A0AF */  sw         $zero, 0x10($sp)
/* 18AB8 800282B8 80020424 */  addiu      $a0, $zero, 0x280
/* 18ABC 800282BC E0010524 */  addiu      $a1, $zero, 0x1e0
/* 18AC0 800282C0 04000624 */  addiu      $a2, $zero, 4
/* 18AC4 800282C4 023A0700 */  srl        $a3, $a3, 8
/* 18AC8 800282C8 E684000C */  jal        GsInitGraph2
/* 18ACC 800282CC 0F00E730 */   andi      $a3, $a3, 0xf
/* 18AD0 800282D0 21200000 */  addu       $a0, $zero, $zero
/* 18AD4 800282D4 21280000 */  addu       $a1, $zero, $zero
/* 18AD8 800282D8 21300000 */  addu       $a2, $zero, $zero
/* 18ADC 800282DC 20A2000C */  jal        FUN_80028880
/* 18AE0 800282E0 21380000 */   addu      $a3, $zero, $zero
/* 18AE4 800282E4 1800A427 */  addiu      $a0, $sp, 0x18
.L800282E8:
/* 18AE8 800282E8 21280000 */  addu       $a1, $zero, $zero
/* 18AEC 800282EC 21300000 */  addu       $a2, $zero, $zero
/* 18AF0 800282F0 21380000 */  addu       $a3, $zero, $zero
/* 18AF4 800282F4 80020224 */  addiu      $v0, $zero, 0x280
/* 18AF8 800282F8 F0010324 */  addiu      $v1, $zero, 0x1f0
/* 18AFC 800282FC 1800A0A7 */  sh         $zero, 0x18($sp)
/* 18B00 80028300 1A00A0A7 */  sh         $zero, 0x1a($sp)
/* 18B04 80028304 1C00A2A7 */  sh         $v0, 0x1c($sp)
/* 18B08 80028308 5D61000C */  jal        ClearImage2
/* 18B0C 8002830C 1E00A3A7 */   sh        $v1, 0x1e($sp)
/* 18B10 80028310 D860000C */  jal        DrawSync
/* 18B14 80028314 21200000 */   addu      $a0, $zero, $zero
.L80028318:
/* 18B18 80028318 A4A1000C */  jal        GsSwapDispBuff
/* 18B1C 8002831C 21880000 */   addu      $s1, $zero, $zero
/* 18B20 80028320 1380023C */  lui        $v0, %hi(D_80129DA8)
/* 18B24 80028324 A89D5024 */  addiu      $s0, $v0, %lo(D_80129DA8)
/* 18B28 80028328 300D1226 */  addiu      $s2, $s0, 0xd30
.L8002832C:
/* 18B2C 8002832C C0181100 */  sll        $v1, $s1, 3
/* 18B30 80028330 21100302 */  addu       $v0, $s0, $v1
/* 18B34 80028334 340C4584 */  lh         $a1, 0xc34($v0)
/* 18B38 80028338 00000000 */  nop
/* 18B3C 8002833C 1700A018 */  blez       $a1, .L8002839C
/* 18B40 80028340 00000000 */   nop
/* 18B44 80028344 360C4684 */  lh         $a2, 0xc36($v0)
/* 18B48 80028348 00000000 */  nop
/* 18B4C 8002834C 1300C018 */  blez       $a2, .L8002839C
/* 18B50 80028350 300C0226 */   addiu     $v0, $s0, 0xc30
/* 18B54 80028354 21206200 */  addu       $a0, $v1, $v0
/* 18B58 80028358 00008284 */  lh         $v0, ($a0)
/* 18B5C 8002835C 00000000 */  nop
/* 18B60 80028360 0E004004 */  bltz       $v0, .L8002839C
/* 18B64 80028364 21104500 */   addu      $v0, $v0, $a1
/* 18B68 80028368 01044228 */  slti       $v0, $v0, 0x401
/* 18B6C 8002836C 0B004010 */  beqz       $v0, .L8002839C
/* 18B70 80028370 21100302 */   addu      $v0, $s0, $v1
/* 18B74 80028374 320C4284 */  lh         $v0, 0xc32($v0)
/* 18B78 80028378 00000000 */  nop
/* 18B7C 8002837C 07004004 */  bltz       $v0, .L8002839C
/* 18B80 80028380 21104600 */   addu      $v0, $v0, $a2
/* 18B84 80028384 01044228 */  slti       $v0, $v0, 0x401
/* 18B88 80028388 04004010 */  beqz       $v0, .L8002839C
/* 18B8C 8002838C 00000000 */   nop
/* 18B90 80028390 0000458E */  lw         $a1, ($s2)
/* 18B94 80028394 9F6A000C */  jal        LoadImage2
/* 18B98 80028398 00000000 */   nop
.L8002839C:
/* 18B9C 8002839C 01003126 */  addiu      $s1, $s1, 1
/* 18BA0 800283A0 2000222A */  slti       $v0, $s1, 0x20
/* 18BA4 800283A4 E1FF4014 */  bnez       $v0, .L8002832C
/* 18BA8 800283A8 04005226 */   addiu     $s2, $s2, 4
/* 18BAC 800283AC A89D6326 */  addiu      $v1, $s3, -0x6258
/* 18BB0 800283B0 B40D628C */  lw         $v0, 0xdb4($v1)
/* 18BB4 800283B4 00000000 */  nop
/* 18BB8 800283B8 0F004230 */  andi       $v0, $v0, 0xf
/* 18BBC 800283BC 06004014 */  bnez       $v0, .L800283D8
/* 18BC0 800283C0 40010424 */   addiu     $a0, $zero, 0x140
/* 18BC4 800283C4 A0000424 */  addiu      $a0, $zero, 0xa0
/* 18BC8 800283C8 68A1000C */  jal        GsSetOffset
/* 18BCC 800283CC 78000524 */   addiu     $a1, $zero, 0x78
/* 18BD0 800283D0 F9A00008 */  j          .L800283E4
/* 18BD4 800283D4 A89D7026 */   addiu     $s0, $s3, -0x6258
.L800283D8:
/* 18BD8 800283D8 68A1000C */  jal        GsSetOffset
/* 18BDC 800283DC F0000524 */   addiu     $a1, $zero, 0xf0
/* 18BE0 800283E0 A89D7026 */  addiu      $s0, $s3, -0x6258
.L800283E4:
/* 18BE4 800283E4 B00D0282 */  lb         $v0, 0xdb0($s0)
/* 18BE8 800283E8 00000000 */  nop
/* 18BEC 800283EC 05004010 */  beqz       $v0, .L80028404
/* 18BF0 800283F0 21200000 */   addu      $a0, $zero, $zero
/* 18BF4 800283F4 21280000 */  addu       $a1, $zero, $zero
/* 18BF8 800283F8 2C0C078E */  lw         $a3, 0xc2c($s0)
/* 18BFC 800283FC 8885000C */  jal        GsSortClear
/* 18C00 80028400 21300000 */   addu      $a2, $zero, $zero
.L80028404:
/* 18C04 80028404 B10D0282 */  lb         $v0, 0xdb1($s0)
/* 18C08 80028408 00000000 */  nop
/* 18C0C 8002840C 1B004010 */  beqz       $v0, .L8002847C
/* 18C10 80028410 21200000 */   addu      $a0, $zero, $zero
/* 18C14 80028414 2C0C068E */  lw         $a2, 0xc2c($s0)
/* 18C18 80028418 21280000 */  addu       $a1, $zero, $zero
/* 18C1C 8002841C 04A2000C */  jal        GsClearOt
/* 18C20 80028420 B10D00A2 */   sb        $zero, 0xdb1($s0)
/* 18C24 80028424 B40D028E */  lw         $v0, 0xdb4($s0)
/* 18C28 80028428 00000000 */  nop
/* 18C2C 8002842C 0F004230 */  andi       $v0, $v0, 0xf
/* 18C30 80028430 17004014 */  bnez       $v0, .L80028490
/* 18C34 80028434 1380033C */   lui       $v1, %hi(D_80129DA0)
/* 18C38 80028438 A09D6724 */  addiu      $a3, $v1, %lo(D_80129DA0)
/* 18C3C 8002843C 2120E000 */  addu       $a0, $a3, $zero
/* 18C40 80028440 21280000 */  addu       $a1, $zero, $zero
/* 18C44 80028444 40010224 */  addiu      $v0, $zero, 0x140
/* 18C48 80028448 A09D60A4 */  sh         $zero, -0x6260($v1)
/* 18C4C 8002844C F0000324 */  addiu      $v1, $zero, 0xf0
/* 18C50 80028450 0400E2A4 */  sh         $v0, 4($a3)
/* 18C54 80028454 0600E3A4 */  sh         $v1, 6($a3)
/* 18C58 80028458 A89D628E */  lw         $v0, -0x6258($s3)
/* 18C5C 8002845C 01000624 */  addiu      $a2, $zero, 1
/* 18C60 80028460 2330C200 */  subu       $a2, $a2, $v0
/* 18C64 80028464 00320600 */  sll        $a2, $a2, 8
/* 18C68 80028468 00120200 */  sll        $v0, $v0, 8
/* 18C6C 8002846C B361000C */  jal        MoveImage
/* 18C70 80028470 0200E2A4 */   sh        $v0, 2($a3)
/* 18C74 80028474 D860000C */  jal        DrawSync
/* 18C78 80028478 21200000 */   addu      $a0, $zero, $zero
.L8002847C:
/* 18C7C 8002847C B40D028E */  lw         $v0, 0xdb4($s0)
/* 18C80 80028480 00000000 */  nop
/* 18C84 80028484 0F004230 */  andi       $v0, $v0, 0xf
/* 18C88 80028488 07004010 */  beqz       $v0, .L800284A8
/* 18C8C 8002848C A89D7026 */   addiu     $s0, $s3, -0x6258
.L80028490:
/* 18C90 80028490 2F64000C */  jal        GetODE
/* 18C94 80028494 00000000 */   nop
/* 18C98 80028498 A89D638E */  lw         $v1, -0x6258($s3)
/* 18C9C 8002849C 00000000 */  nop
/* 18CA0 800284A0 FBFF4310 */  beq        $v0, $v1, .L80028490
/* 18CA4 800284A4 A89D7026 */   addiu     $s0, $s3, -0x6258
.L800284A8:
/* 18CA8 800284A8 2C0C048E */  lw         $a0, 0xc2c($s0)
/* 18CAC 800284AC F8A1000C */  jal        FUN_800287e0
/* 18CB0 800284B0 00000000 */   nop
/* 18CB4 800284B4 320C0426 */  addiu      $a0, $s0, 0xc32
/* 18CB8 800284B8 1F000524 */  addiu      $a1, $zero, 0x1f
/* 18CBC 800284BC A89D628E */  lw         $v0, -0x6258($s3)
/* 18CC0 800284C0 01000324 */  addiu      $v1, $zero, 1
/* 18CC4 800284C4 23186200 */  subu       $v1, $v1, $v0
/* 18CC8 800284C8 40100300 */  sll        $v0, $v1, 1
/* 18CCC 800284CC 21104300 */  addu       $v0, $v0, $v1
/* 18CD0 800284D0 40110200 */  sll        $v0, $v0, 5
/* 18CD4 800284D4 21104300 */  addu       $v0, $v0, $v1
/* 18CD8 800284D8 80100200 */  sll        $v0, $v0, 2
/* 18CDC 800284DC 21104300 */  addu       $v0, $v0, $v1
/* 18CE0 800284E0 80100200 */  sll        $v0, $v0, 2
/* 18CE4 800284E4 A89D63AE */  sw         $v1, -0x6258($s3)
/* 18CE8 800284E8 04000326 */  addiu      $v1, $s0, 4
/* 18CEC 800284EC 21104300 */  addu       $v0, $v0, $v1
/* 18CF0 800284F0 2C0C02AE */  sw         $v0, 0xc2c($s0)
.L800284F4:
/* 18CF4 800284F4 00008284 */  lh         $v0, ($a0)
/* 18CF8 800284F8 00008394 */  lhu        $v1, ($a0)
/* 18CFC 800284FC 00044228 */  slti       $v0, $v0, 0x400
/* 18D00 80028500 02004010 */  beqz       $v0, .L8002850C
/* 18D04 80028504 00046224 */   addiu     $v0, $v1, 0x400
/* 18D08 80028508 000082A4 */  sh         $v0, ($a0)
.L8002850C:
/* 18D0C 8002850C FFFFA524 */  addiu      $a1, $a1, -1
/* 18D10 80028510 F8FFA104 */  bgez       $a1, .L800284F4
/* 18D14 80028514 08008424 */   addiu     $a0, $a0, 8
/* 18D18 80028518 A89D7026 */  addiu      $s0, $s3, -0x6258
/* 18D1C 8002851C 2C0C048E */  lw         $a0, 0xc2c($s0)
/* 18D20 80028520 1CA2000C */  jal        FUN_80028870
/* 18D24 80028524 14048424 */   addiu     $a0, $a0, 0x414
/* 18D28 80028528 21200000 */  addu       $a0, $zero, $zero
/* 18D2C 8002852C 2C0C068E */  lw         $a2, 0xc2c($s0)
/* 18D30 80028530 04A2000C */  jal        GsClearOt
/* 18D34 80028534 21280000 */   addu      $a1, $zero, $zero
/* 18D38 80028538 3000BF8F */  lw         $ra, 0x30($sp)
/* 18D3C 8002853C 2C00B38F */  lw         $s3, 0x2c($sp)
/* 18D40 80028540 2800B28F */  lw         $s2, 0x28($sp)
/* 18D44 80028544 2400B18F */  lw         $s1, 0x24($sp)
/* 18D48 80028548 2000B08F */  lw         $s0, 0x20($sp)
/* 18D4C 8002854C 0800E003 */  jr         $ra
/* 18D50 80028550 3800BD27 */   addiu     $sp, $sp, 0x38
