.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches


glabel GsSetFlatLight
/* 121A8 800219A8 70FFBD27 */  addiu      $sp, $sp, -0x90
/* 121AC 800219AC 7C00B1AF */  sw         $s1, 0x7c($sp)
/* 121B0 800219B0 21888000 */  addu       $s1, $a0, $zero
/* 121B4 800219B4 7800B0AF */  sw         $s0, 0x78($sp)
/* 121B8 800219B8 2180A000 */  addu       $s0, $a1, $zero
/* 121BC 800219BC 8C00BFAF */  sw         $ra, 0x8c($sp)
/* 121C0 800219C0 8800B4AF */  sw         $s4, 0x88($sp)
/* 121C4 800219C4 8400B3AF */  sw         $s3, 0x84($sp)
/* 121C8 800219C8 8000B2AF */  sw         $s2, 0x80($sp)
/* 121CC 800219CC 0C001292 */  lbu        $s2, 0xc($s0)
/* 121D0 800219D0 0D001392 */  lbu        $s3, 0xd($s0)
/* 121D4 800219D4 0E001492 */  lbu        $s4, 0xe($s0)
/* 121D8 800219D8 1380053C */  lui        $a1, %hi(D_801290C8)
/* 121DC 800219DC C890A524 */  addiu      $a1, $a1, %lo(D_801290C8)
/* 121E0 800219E0 0000A28C */  lw         $v0, ($a1)
/* 121E4 800219E4 0400A38C */  lw         $v1, 4($a1)
/* 121E8 800219E8 0800A48C */  lw         $a0, 8($a1)
/* 121EC 800219EC 1000A2AF */  sw         $v0, 0x10($sp)
/* 121F0 800219F0 1400A3AF */  sw         $v1, 0x14($sp)
/* 121F4 800219F4 1800A4AF */  sw         $a0, 0x18($sp)
/* 121F8 800219F8 0C00A28C */  lw         $v0, 0xc($a1)
/* 121FC 800219FC 1000A38C */  lw         $v1, 0x10($a1)
/* 12200 80021A00 1400A48C */  lw         $a0, 0x14($a1)
/* 12204 80021A04 1C00A2AF */  sw         $v0, 0x1c($sp)
/* 12208 80021A08 2000A3AF */  sw         $v1, 0x20($sp)
/* 1220C 80021A0C 2400A4AF */  sw         $a0, 0x24($sp)
/* 12210 80021A10 1800A28C */  lw         $v0, 0x18($a1)
/* 12214 80021A14 1C00A38C */  lw         $v1, 0x1c($a1)
/* 12218 80021A18 2800A2AF */  sw         $v0, 0x28($sp)
/* 1221C 80021A1C 2C00A3AF */  sw         $v1, 0x2c($sp)
/* 12220 80021A20 B187000C */  jal        GS_107_OBJ_51C
/* 12224 80021A24 3000A427 */   addiu     $a0, $sp, 0x30
/* 12228 80021A28 0000028E */  lw         $v0, ($s0)
/* 1222C 80021A2C 00000000 */  nop
/* 12230 80021A30 18004200 */  mult       $v0, $v0
/* 12234 80021A34 12200000 */  mflo       $a0
/* 12238 80021A38 0400028E */  lw         $v0, 4($s0)
/* 1223C 80021A3C 00000000 */  nop
/* 12240 80021A40 18004200 */  mult       $v0, $v0
/* 12244 80021A44 12180000 */  mflo       $v1
/* 12248 80021A48 0800028E */  lw         $v0, 8($s0)
/* 1224C 80021A4C 00000000 */  nop
/* 12250 80021A50 18004200 */  mult       $v0, $v0
/* 12254 80021A54 21208300 */  addu       $a0, $a0, $v1
/* 12258 80021A58 12300000 */  mflo       $a2
/* 1225C 80021A5C FE87000C */  jal        SquareRoot0
/* 12260 80021A60 21208600 */   addu      $a0, $a0, $a2
/* 12264 80021A64 21204000 */  addu       $a0, $v0, $zero
/* 12268 80021A68 F5008010 */  beqz       $a0, .L80021E40
/* 1226C 80021A6C FFFF0224 */   addiu     $v0, $zero, -1
/* 12270 80021A70 01000224 */  addiu      $v0, $zero, 1
/* 12274 80021A74 51002212 */  beq        $s1, $v0, .L80021BBC
/* 12278 80021A78 0200222A */   slti      $v0, $s1, 2
/* 1227C 80021A7C 05004010 */  beqz       $v0, .L80021A94
/* 12280 80021A80 02000224 */   addiu     $v0, $zero, 2
/* 12284 80021A84 07002012 */  beqz       $s1, .L80021AA4
/* 12288 80021A88 8080053C */   lui       $a1, 0x8080
/* 1228C 80021A8C 7B870008 */  j          GS_107_OBJ_444
/* 12290 80021A90 00000000 */   nop
.L80021A94:
/* 12294 80021A94 90002212 */  beq        $s1, $v0, .L80021CD8
/* 12298 80021A98 8080053C */   lui       $a1, 0x8080
/* 1229C 80021A9C 7B870008 */  j          GS_107_OBJ_444
/* 122A0 80021AA0 00000000 */   nop
.L80021AA4:
/* 122A4 80021AA4 0000028E */  lw         $v0, ($s0)
/* 122A8 80021AA8 00000000 */  nop
/* 122AC 80021AAC 23100200 */  negu       $v0, $v0
/* 122B0 80021AB0 00130200 */  sll        $v0, $v0, 0xc
/* 122B4 80021AB4 1A004400 */  div        $zero, $v0, $a0
/* 122B8 80021AB8 02008014 */  bnez       $a0, .L80021AC4
/* 122BC 80021ABC 00000000 */   nop
/* 122C0 80021AC0 0D000700 */  break      7
.L80021AC4:
/* 122C4 80021AC4 FFFF0124 */   addiu     $at, $zero, -1
/* 122C8 80021AC8 04008114 */  bne        $a0, $at, .L80021ADC
/* 122CC 80021ACC 0080013C */   lui       $at, 0x8000
/* 122D0 80021AD0 02004114 */  bne        $v0, $at, .L80021ADC
/* 122D4 80021AD4 00000000 */   nop
/* 122D8 80021AD8 0D000600 */  break      6
.L80021ADC:
/* 122DC 80021ADC 12100000 */   mflo      $v0
/* 122E0 80021AE0 1000A2A7 */  sh         $v0, 0x10($sp)
/* 122E4 80021AE4 0400028E */  lw         $v0, 4($s0)
/* 122E8 80021AE8 00000000 */  nop
/* 122EC 80021AEC 23100200 */  negu       $v0, $v0
/* 122F0 80021AF0 00130200 */  sll        $v0, $v0, 0xc
/* 122F4 80021AF4 1A004400 */  div        $zero, $v0, $a0
/* 122F8 80021AF8 02008014 */  bnez       $a0, .L80021B04
/* 122FC 80021AFC 00000000 */   nop
/* 12300 80021B00 0D000700 */  break      7
.L80021B04:
/* 12304 80021B04 FFFF0124 */   addiu     $at, $zero, -1
/* 12308 80021B08 04008114 */  bne        $a0, $at, .L80021B1C
/* 1230C 80021B0C 0080013C */   lui       $at, 0x8000
/* 12310 80021B10 02004114 */  bne        $v0, $at, .L80021B1C
/* 12314 80021B14 00000000 */   nop
/* 12318 80021B18 0D000600 */  break      6
.L80021B1C:
/* 1231C 80021B1C 12100000 */   mflo      $v0
/* 12320 80021B20 1200A2A7 */  sh         $v0, 0x12($sp)
/* 12324 80021B24 0800068E */  lw         $a2, 8($s0)
/* 12328 80021B28 00000000 */  nop
/* 1232C 80021B2C 23300600 */  negu       $a2, $a2
/* 12330 80021B30 00330600 */  sll        $a2, $a2, 0xc
/* 12334 80021B34 1A00C400 */  div        $zero, $a2, $a0
/* 12338 80021B38 02008014 */  bnez       $a0, .L80021B44
/* 1233C 80021B3C 00000000 */   nop
/* 12340 80021B40 0D000700 */  break      7
.L80021B44:
/* 12344 80021B44 FFFF0124 */   addiu     $at, $zero, -1
/* 12348 80021B48 04008114 */  bne        $a0, $at, .L80021B5C
/* 1234C 80021B4C 0080013C */   lui       $at, 0x8000
/* 12350 80021B50 0200C114 */  bne        $a2, $at, .L80021B5C
/* 12354 80021B54 00000000 */   nop
/* 12358 80021B58 0D000600 */  break      6
.L80021B5C:
/* 1235C 80021B5C 12300000 */   mflo      $a2
/* 12360 80021B60 8180A534 */  ori        $a1, $a1, 0x8081
/* 12364 80021B64 00131200 */  sll        $v0, $s2, 0xc
/* 12368 80021B68 18004500 */  mult       $v0, $a1
/* 1236C 80021B6C 10480000 */  mfhi       $t1
/* 12370 80021B70 001B1300 */  sll        $v1, $s3, 0xc
/* 12374 80021B74 00000000 */  nop
/* 12378 80021B78 18006500 */  mult       $v1, $a1
/* 1237C 80021B7C 10380000 */  mfhi       $a3
/* 12380 80021B80 00231400 */  sll        $a0, $s4, 0xc
/* 12384 80021B84 00000000 */  nop
/* 12388 80021B88 18008500 */  mult       $a0, $a1
/* 1238C 80021B8C 21102201 */  addu       $v0, $t1, $v0
/* 12390 80021B90 C3110200 */  sra        $v0, $v0, 7
/* 12394 80021B94 3000A2A7 */  sh         $v0, 0x30($sp)
/* 12398 80021B98 2118E300 */  addu       $v1, $a3, $v1
/* 1239C 80021B9C C3190300 */  sra        $v1, $v1, 7
/* 123A0 80021BA0 3600A3A7 */  sh         $v1, 0x36($sp)
/* 123A4 80021BA4 10280000 */  mfhi       $a1
/* 123A8 80021BA8 2120A400 */  addu       $a0, $a1, $a0
/* 123AC 80021BAC C3210400 */  sra        $a0, $a0, 7
/* 123B0 80021BB0 3C00A4A7 */  sh         $a0, 0x3c($sp)
/* 123B4 80021BB4 7B870008 */  j          GS_107_OBJ_444
/* 123B8 80021BB8 1400A6A7 */   sh        $a2, 0x14($sp)
.L80021BBC:
/* 123BC 80021BBC 0000028E */  lw         $v0, ($s0)
/* 123C0 80021BC0 00000000 */  nop
/* 123C4 80021BC4 23100200 */  negu       $v0, $v0
/* 123C8 80021BC8 00130200 */  sll        $v0, $v0, 0xc
/* 123CC 80021BCC 1A004400 */  div        $zero, $v0, $a0
/* 123D0 80021BD0 02008014 */  bnez       $a0, .L80021BDC
/* 123D4 80021BD4 00000000 */   nop
/* 123D8 80021BD8 0D000700 */  break      7
.L80021BDC:
/* 123DC 80021BDC FFFF0124 */   addiu     $at, $zero, -1
/* 123E0 80021BE0 04008114 */  bne        $a0, $at, .L80021BF4
/* 123E4 80021BE4 0080013C */   lui       $at, 0x8000
/* 123E8 80021BE8 02004114 */  bne        $v0, $at, .L80021BF4
/* 123EC 80021BEC 00000000 */   nop
/* 123F0 80021BF0 0D000600 */  break      6
.L80021BF4:
/* 123F4 80021BF4 12100000 */   mflo      $v0
/* 123F8 80021BF8 1600A2A7 */  sh         $v0, 0x16($sp)
/* 123FC 80021BFC 0400028E */  lw         $v0, 4($s0)
/* 12400 80021C00 00000000 */  nop
/* 12404 80021C04 23100200 */  negu       $v0, $v0
/* 12408 80021C08 00130200 */  sll        $v0, $v0, 0xc
/* 1240C 80021C0C 1A004400 */  div        $zero, $v0, $a0
/* 12410 80021C10 02008014 */  bnez       $a0, .L80021C1C
/* 12414 80021C14 00000000 */   nop
/* 12418 80021C18 0D000700 */  break      7
.L80021C1C:
/* 1241C 80021C1C FFFF0124 */   addiu     $at, $zero, -1
/* 12420 80021C20 04008114 */  bne        $a0, $at, .L80021C34
/* 12424 80021C24 0080013C */   lui       $at, 0x8000
/* 12428 80021C28 02004114 */  bne        $v0, $at, .L80021C34
/* 1242C 80021C2C 00000000 */   nop
/* 12430 80021C30 0D000600 */  break      6
.L80021C34:
/* 12434 80021C34 12100000 */   mflo      $v0
/* 12438 80021C38 1800A2A7 */  sh         $v0, 0x18($sp)
/* 1243C 80021C3C 0800068E */  lw         $a2, 8($s0)
/* 12440 80021C40 00000000 */  nop
/* 12444 80021C44 23300600 */  negu       $a2, $a2
/* 12448 80021C48 00330600 */  sll        $a2, $a2, 0xc
/* 1244C 80021C4C 1A00C400 */  div        $zero, $a2, $a0
/* 12450 80021C50 02008014 */  bnez       $a0, .L80021C5C
/* 12454 80021C54 00000000 */   nop
/* 12458 80021C58 0D000700 */  break      7
.L80021C5C:
/* 1245C 80021C5C FFFF0124 */   addiu     $at, $zero, -1
/* 12460 80021C60 04008114 */  bne        $a0, $at, .L80021C74
/* 12464 80021C64 0080013C */   lui       $at, 0x8000
/* 12468 80021C68 0200C114 */  bne        $a2, $at, .L80021C74
/* 1246C 80021C6C 00000000 */   nop
/* 12470 80021C70 0D000600 */  break      6
.L80021C74:
/* 12474 80021C74 12300000 */   mflo      $a2
/* 12478 80021C78 8080053C */  lui        $a1, 0x8080
/* 1247C 80021C7C 8180A534 */  ori        $a1, $a1, 0x8081
/* 12480 80021C80 00131200 */  sll        $v0, $s2, 0xc
/* 12484 80021C84 18004500 */  mult       $v0, $a1
/* 12488 80021C88 10480000 */  mfhi       $t1
/* 1248C 80021C8C 001B1300 */  sll        $v1, $s3, 0xc
/* 12490 80021C90 00000000 */  nop
/* 12494 80021C94 18006500 */  mult       $v1, $a1
/* 12498 80021C98 10380000 */  mfhi       $a3
/* 1249C 80021C9C 00231400 */  sll        $a0, $s4, 0xc
/* 124A0 80021CA0 00000000 */  nop
/* 124A4 80021CA4 18008500 */  mult       $a0, $a1
/* 124A8 80021CA8 21102201 */  addu       $v0, $t1, $v0
/* 124AC 80021CAC C3110200 */  sra        $v0, $v0, 7
/* 124B0 80021CB0 3200A2A7 */  sh         $v0, 0x32($sp)
/* 124B4 80021CB4 2118E300 */  addu       $v1, $a3, $v1
/* 124B8 80021CB8 C3190300 */  sra        $v1, $v1, 7
/* 124BC 80021CBC 3800A3A7 */  sh         $v1, 0x38($sp)
/* 124C0 80021CC0 10280000 */  mfhi       $a1
/* 124C4 80021CC4 2120A400 */  addu       $a0, $a1, $a0
/* 124C8 80021CC8 C3210400 */  sra        $a0, $a0, 7
/* 124CC 80021CCC 3E00A4A7 */  sh         $a0, 0x3e($sp)
/* 124D0 80021CD0 7B870008 */  j          GS_107_OBJ_444
/* 124D4 80021CD4 1A00A6A7 */   sh        $a2, 0x1a($sp)
.L80021CD8:
/* 124D8 80021CD8 0000028E */  lw         $v0, ($s0)
/* 124DC 80021CDC 00000000 */  nop
/* 124E0 80021CE0 23100200 */  negu       $v0, $v0
/* 124E4 80021CE4 00130200 */  sll        $v0, $v0, 0xc
/* 124E8 80021CE8 1A004400 */  div        $zero, $v0, $a0
/* 124EC 80021CEC 02008014 */  bnez       $a0, .L80021CF8
/* 124F0 80021CF0 00000000 */   nop
/* 124F4 80021CF4 0D000700 */  break      7
.L80021CF8:
/* 124F8 80021CF8 FFFF0124 */   addiu     $at, $zero, -1
/* 124FC 80021CFC 04008114 */  bne        $a0, $at, .L80021D10
/* 12500 80021D00 0080013C */   lui       $at, 0x8000
/* 12504 80021D04 02004114 */  bne        $v0, $at, .L80021D10
/* 12508 80021D08 00000000 */   nop
/* 1250C 80021D0C 0D000600 */  break      6
.L80021D10:
/* 12510 80021D10 12100000 */   mflo      $v0
/* 12514 80021D14 1C00A2A7 */  sh         $v0, 0x1c($sp)
/* 12518 80021D18 0400028E */  lw         $v0, 4($s0)
/* 1251C 80021D1C 00000000 */  nop
/* 12520 80021D20 23100200 */  negu       $v0, $v0
/* 12524 80021D24 00130200 */  sll        $v0, $v0, 0xc
/* 12528 80021D28 1A004400 */  div        $zero, $v0, $a0
/* 1252C 80021D2C 02008014 */  bnez       $a0, .L80021D38
/* 12530 80021D30 00000000 */   nop
/* 12534 80021D34 0D000700 */  break      7
.L80021D38:
/* 12538 80021D38 FFFF0124 */   addiu     $at, $zero, -1
/* 1253C 80021D3C 04008114 */  bne        $a0, $at, .L80021D50
/* 12540 80021D40 0080013C */   lui       $at, 0x8000
/* 12544 80021D44 02004114 */  bne        $v0, $at, .L80021D50
/* 12548 80021D48 00000000 */   nop
/* 1254C 80021D4C 0D000600 */  break      6
.L80021D50:
/* 12550 80021D50 12100000 */   mflo      $v0
/* 12554 80021D54 1E00A2A7 */  sh         $v0, 0x1e($sp)
/* 12558 80021D58 0800068E */  lw         $a2, 8($s0)
/* 1255C 80021D5C 00000000 */  nop
/* 12560 80021D60 23300600 */  negu       $a2, $a2
/* 12564 80021D64 00330600 */  sll        $a2, $a2, 0xc
/* 12568 80021D68 1A00C400 */  div        $zero, $a2, $a0
/* 1256C 80021D6C 02008014 */  bnez       $a0, .L80021D78
/* 12570 80021D70 00000000 */   nop
/* 12574 80021D74 0D000700 */  break      7
.L80021D78:
/* 12578 80021D78 FFFF0124 */   addiu     $at, $zero, -1
/* 1257C 80021D7C 04008114 */  bne        $a0, $at, .L80021D90
/* 12580 80021D80 0080013C */   lui       $at, 0x8000
/* 12584 80021D84 0200C114 */  bne        $a2, $at, .L80021D90
/* 12588 80021D88 00000000 */   nop
/* 1258C 80021D8C 0D000600 */  break      6
.L80021D90:
/* 12590 80021D90 12300000 */   mflo      $a2
/* 12594 80021D94 8180A534 */  ori        $a1, $a1, 0x8081
/* 12598 80021D98 00131200 */  sll        $v0, $s2, 0xc
/* 1259C 80021D9C 18004500 */  mult       $v0, $a1
/* 125A0 80021DA0 10480000 */  mfhi       $t1
/* 125A4 80021DA4 001B1300 */  sll        $v1, $s3, 0xc
/* 125A8 80021DA8 00000000 */  nop
/* 125AC 80021DAC 18006500 */  mult       $v1, $a1
/* 125B0 80021DB0 10380000 */  mfhi       $a3
/* 125B4 80021DB4 00231400 */  sll        $a0, $s4, 0xc
/* 125B8 80021DB8 00000000 */  nop
/* 125BC 80021DBC 18008500 */  mult       $a0, $a1
/* 125C0 80021DC0 21102201 */  addu       $v0, $t1, $v0
/* 125C4 80021DC4 C3110200 */  sra        $v0, $v0, 7
/* 125C8 80021DC8 3400A2A7 */  sh         $v0, 0x34($sp)
/* 125CC 80021DCC 2118E300 */  addu       $v1, $a3, $v1
/* 125D0 80021DD0 C3190300 */  sra        $v1, $v1, 7
/* 125D4 80021DD4 3A00A3A7 */  sh         $v1, 0x3a($sp)
/* 125D8 80021DD8 10280000 */  mfhi       $a1
/* 125DC 80021DDC 2120A400 */  addu       $a0, $a1, $a0
/* 125E0 80021DE0 C3210400 */  sra        $a0, $a0, 7
/* 125E4 80021DE4 4000A4A7 */  sh         $a0, 0x40($sp)
/* 125E8 80021DE8 2000A6A7 */  sh         $a2, 0x20($sp)
