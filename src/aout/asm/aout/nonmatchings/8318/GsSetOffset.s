.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches


glabel GsSetOffset
/* 18DA0 800285A0 E0FFBD27 */  addiu      $sp, $sp, -0x20
/* 18DA4 800285A4 1380023C */  lui        $v0, %hi(D_801290AE)
/* 18DA8 800285A8 AE904284 */  lh         $v0, %lo(D_801290AE)($v0)
/* 18DAC 800285AC 2130A000 */  addu       $a2, $a1, $zero
/* 18DB0 800285B0 1800BFAF */  sw         $ra, 0x18($sp)
/* 18DB4 800285B4 1400B1AF */  sw         $s1, 0x14($sp)
/* 18DB8 800285B8 19004010 */  beqz       $v0, .L80028620
/* 18DBC 800285BC 1000B0AF */   sw        $s0, 0x10($sp)
/* 18DC0 800285C0 1380033C */  lui        $v1, %hi(D_801290AC)
/* 18DC4 800285C4 AC906384 */  lh         $v1, %lo(D_801290AC)($v1)
/* 18DC8 800285C8 00000000 */  nop
/* 18DCC 800285CC 40180300 */  sll        $v1, $v1, 1
/* 18DD0 800285D0 1380023C */  lui        $v0, %hi(D_80129010)
/* 18DD4 800285D4 21104300 */  addu       $v0, $v0, $v1
/* 18DD8 800285D8 10904294 */  lhu        $v0, %lo(D_80129010)($v0)
/* 18DDC 800285DC 1380053C */  lui        $a1, %hi(D_80129030)
/* 18DE0 800285E0 3090A524 */  addiu      $a1, $a1, %lo(D_80129030)
/* 18DE4 800285E4 1380013C */  lui        $at, %hi(D_8012909E)
/* 18DE8 800285E8 9E9020A4 */  sh         $zero, %lo(D_8012909E)($at)
/* 18DEC 800285EC 1380013C */  lui        $at, %hi(D_8012909C)
/* 18DF0 800285F0 9C9020A4 */  sh         $zero, %lo(D_8012909C)($at)
/* 18DF4 800285F4 21104400 */  addu       $v0, $v0, $a0
/* 18DF8 800285F8 0000A2A4 */  sh         $v0, ($a1)
/* 18DFC 800285FC 1380023C */  lui        $v0, %hi(D_80129014)
/* 18E00 80028600 21104300 */  addu       $v0, $v0, $v1
/* 18E04 80028604 14904294 */  lhu        $v0, %lo(D_80129014)($v0)
/* 18E08 80028608 F8FFA424 */  addiu      $a0, $a1, -8
/* 18E0C 8002860C 21104600 */  addu       $v0, $v0, $a2
/* 18E10 80028610 7162000C */  jal        PutDrawEnv
/* 18E14 80028614 0200A2A4 */   sh        $v0, 2($a1)
/* 18E18 80028618 9DA10008 */  j          GS_004_OBJ_D4
/* 18E1C 8002861C 00000000 */   nop
.L80028620:
/* 18E20 80028620 1380053C */  lui        $a1, %hi(D_801290AC)
/* 18E24 80028624 AC90A584 */  lh         $a1, %lo(D_801290AC)($a1)
/* 18E28 80028628 1380023C */  lui        $v0, %hi(D_80129010)
/* 18E2C 8002862C 0200A014 */  bnez       $a1, .L80028638
/* 18E30 80028630 10904224 */   addiu     $v0, $v0, %lo(D_80129010)
/* 18E34 80028634 02004224 */  addiu      $v0, $v0, 2
.L80028638:
/* 18E38 80028638 00004284 */  lh         $v0, ($v0)
/* 18E3C 8002863C 1380033C */  lui        $v1, %hi(D_80129014)
/* 18E40 80028640 14906324 */  addiu      $v1, $v1, %lo(D_80129014)
/* 18E44 80028644 0200A014 */  bnez       $a1, .L80028650
/* 18E48 80028648 21888200 */   addu      $s1, $a0, $v0
/* 18E4C 8002864C 02006324 */  addiu      $v1, $v1, 2
.L80028650:
/* 18E50 80028650 00007084 */  lh         $s0, ($v1)
/* 18E54 80028654 21202002 */  addu       $a0, $s1, $zero
/* 18E58 80028658 2180D000 */  addu       $s0, $a2, $s0
/* 18E5C 8002865C 3688000C */  jal        FUN_800220d8
/* 18E60 80028660 21280002 */   addu      $a1, $s0, $zero
/* 18E64 80028664 1380013C */  lui        $at, %hi(D_8012909C)
/* 18E68 80028668 9C9031A4 */  sh         $s1, %lo(D_8012909C)($at)
/* 18E6C 8002866C 1380013C */  lui        $at, %hi(D_8012909E)
/* 18E70 80028670 9E9030A4 */  sh         $s0, %lo(D_8012909E)($at)
